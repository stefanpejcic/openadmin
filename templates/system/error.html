{% extends 'base.html' %} {% block content %}

<style>.next-error-h1{border-right:1px solid rgba(0,0,0,.3);margin-right:10px;}@media (prefers-color-scheme:dark){.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}</style>

        <div style="font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji'; height: 100vh; text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center">
            <div>
                <h1 id="error-link-container" style="display: inline-block; margin: 0 20px 0 0; padding: 0 23px 0 0; font-size: 24px; font-weight: 500; vertical-align: top; line-height: 49px">
      {% if error_code %}
        <span id="error-code" class="next-error-h1" data-code="{{ error_code }}">{{ error_code }}</span>
      {% else %}
        ERROR
      {% endif %}
                <div style="display: inline-block">
                    <h2 style="font-size:14px;font-weight:400;line-height:49px;margin:0">{{ error_message }}</h2>
                </div>
            </div>
        </div>


<script>
  (function() {
    const errorCodeElement = document.getElementById('error-code');
    if (!errorCodeElement) return; // no error code to process

    const errorCode = errorCodeElement.getAttribute('data-code');

    const links = [
      { url: `https://http.dog/${errorCode}`, label: 'dog üê∂' },
      { url: `https://http.cat/${errorCode}`, label: 'cat üò∫' },
      { url: `https://httpgoats.com/${errorCode}`, label: 'goat üêê' },
      { url: `https://www.agiliq.com/notebook/http-status-memes/?code=/${errorCode}`, label: 'meme ü§°' }
    ];

    // pick a random link
    const randomIndex = Math.floor(Math.random() * links.length);
    const selected = links[randomIndex];

    // create an <a> element
    const linkElement = document.createElement('a');
    linkElement.href = selected.url;
    linkElement.target = '_blank';
    linkElement.rel = 'noopener noreferrer';
    linkElement.style.textDecoration = 'none';
    linkElement.style.color = 'inherit';
    linkElement.style.margin = '0 10px';
    linkElement.textContent = `${errorCode}`;
    linkElement.title = `Click to view a ${selected.label}`;

    // replace the span with the link
    errorCodeElement.innerHTML = ''; // clear
    errorCodeElement.appendChild(linkElement);
  })();
</script>

{% endblock %}
