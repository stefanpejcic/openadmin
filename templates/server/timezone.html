{% extends 'base.html' %}

{% block content %}
        
<!-- Page header -->
<div class="page-header mt-0 d-print-none">
	<div class="container-xl">
		<div class="row g-2 align-items-center">
			<div class="col">
				<!-- Page pre-title -->
				<div class="page-pretitle">
                  Server Configuration
                </div>
				<h2 class="page-title">
                  Time Zone
                </h2>
			</div>
			<!-- Page title actions -->
			<div class="col-auto ms-auto d-print-none">
				<svg
					xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-timezone">
					<path stroke="none" d="M0 0h24v24H0z" fill="none"/>
					<path d="M20.884 10.554a9 9 0 1 0 -10.337 10.328" />
					<path d="M3.6 9h16.8" />
					<path d="M3.6 15h6.9" />
					<path d="M11.5 3a17 17 0 0 0 -1.502 14.954" />
					<path d="M12.5 3a17 17 0 0 1 2.52 7.603" />
					<path d="M18 18m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" />
					<path d="M18 16.5v1.5l.5 .5" />
				</svg> Current timezone: 
				<b>{{ current_timezone }}</b>
			</div>
		</div>
	</div>
</div>
<!-- Page body -->
<div class="page-body">
	<div class="container-xl">
		<div class="row row-deck row-cards">
			<div class="col-lg-12">
				<div class="card">
					<div class="card-body">
						<div class="row">
							<div class="col-lg-6">
								<form method="post" action="/server/timezone">
								    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

									<div class="form-group mb-3">
										<label for="timezone">Select Timezone:</label>
										<select name="timezone" id="timezone" class="form-control">
                  {% for timezone in available_timezones %}
                      
											<option value="{{ timezone }}" {% if timezone == selected_zone_goes_here %}selected{% endif %}>{{ timezone }}</option>
                  {% endfor %}
              
										</select>
										<small class="form-hint">
                        After changing, <b>we recommend to restart the server</b> or at least the OpenAdmin and Cron services: 
											<code>systemctl restart admin cron</code>
										</small>
									</div>
									<button type="submit" class="btn btn-primary">Change Timezone</button>
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div></div>
</div>

{% endblock %}
