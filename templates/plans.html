<!-- plans.html -->
{% extends 'base.html' %} {% block content %}

<!-- Page header -->
<div class="page-header mt-0 d-print-none">
  <div class="container-xl">
    <div class="row g-2 align-items-center">
      <div class="col">
        <h2 class="page-title">Plans</h2>
      </div>
      <div class="col-auto ms-auto d-print-none">
        <div class="btn-list">
          <span class="d-none d-sm-inline">
            <div class="input-icon">
              <span class="input-icon-addon">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="icon"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  stroke-width="2"
                  stroke="currentColor"
                  fill="none"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                  <path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"></path>
                  <path d="M21 21l-6 -6"></path>
                </svg>
              </span>
              <input
                type="text"
                id="userSearchInput"
                class="form-control"
                placeholder="Search plans"
                aria-label="Search in plans"
              />
            </div>
          </span>

          <button
            id="addPlanButton"
            class="btn btn-primary d-sm-inline-block"
            type="button"
            data-bs-toggle="modal"
            data-bs-target="#modal-report"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="icon"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              stroke-width="2"
              stroke="currentColor"
              fill="none"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
              <path d="M12 5l0 14"></path>
              <path d="M5 12l14 0"></path></svg
            >New Plan
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<div
  class="modal modal-blur fade"
  id="modal-report"
  tabindex="-1"
  style="display: none"
  aria-hidden="true"
>
  <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">New Plan</h5>
        <a style="display: none" href="#"
          ><svg
            xmlns="http://www.w3.org/2000/svg"
            class="icon icon-tabler icon-tabler-info-square-rounded-filled"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            stroke-width="2"
            stroke="currentColor"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <path
              d="M12 2l.642 .005l.616 .017l.299 .013l.579 .034l.553 .046c4.687 .455 6.65 2.333 7.166 6.906l.03 .29l.046 .553l.041 .727l.006 .15l.017 .617l.005 .642l-.005 .642l-.017 .616l-.013 .299l-.034 .579l-.046 .553c-.455 4.687 -2.333 6.65 -6.906 7.166l-.29 .03l-.553 .046l-.727 .041l-.15 .006l-.617 .017l-.642 .005l-.642 -.005l-.616 -.017l-.299 -.013l-.579 -.034l-.553 -.046c-4.687 -.455 -6.65 -2.333 -7.166 -6.906l-.03 -.29l-.046 -.553l-.041 -.727l-.006 -.15l-.017 -.617l-.004 -.318v-.648l.004 -.318l.017 -.616l.013 -.299l.034 -.579l.046 -.553c.455 -4.687 2.333 -6.65 6.906 -7.166l.29 -.03l.553 -.046l.727 -.041l.15 -.006l.617 -.017c.21 -.003 .424 -.005 .642 -.005zm0 9h-1l-.117 .007a1 1 0 0 0 0 1.986l.117 .007v3l.007 .117a1 1 0 0 0 .876 .876l.117 .007h1l.117 -.007a1 1 0 0 0 .876 -.876l.007 -.117l-.007 -.117a1 1 0 0 0 -.764 -.857l-.112 -.02l-.117 -.006v-3l-.007 -.117a1 1 0 0 0 -.876 -.876l-.117 -.007zm.01 -3l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007z"
              stroke-width="0"
              fill="currentColor"
            />
          </svg>
        </a>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <form id="planForm">
        <div class="modal-body">
          <div class="form-selectgroup-boxes row mb-3">
            <div class="col-lg-4">
              <label class="form-label"
                >Name: <span class="text-danger">*</span></label
              >
              <div class="row g-2">
                <div class="col">
                  <input
                    id="name"
                    class="form-control"
                    name="name"
                    placeholder="Enter plan name"
                    type="text"
                    required=""
                    data-validate
                    value="{{ plan_template_data.get('name', '') }}"
                  />
                </div>
                <div class="col-auto align-self-center">
                  <span
                    class="form-help"
                    data-bs-toggle="popover"
                    data-bs-placement="top"
                    data-bs-content="<p class='mb-0'>Plan name is visible to the users.</p>"
                    data-bs-html="true"
                    >?</span
                  >
                </div>
              </div>
            </div>
            <!-- col -->
            <div class="col-lg-8">
              <label class="form-label">Description:</label>
              <div class="row g-2">
                <div class="col">
                  <input
                    id="description"
                    class="form-control"
                    name="description"
                    placeholder="Enter description"
                    type="textarea"
                    value="{{ plan_template_data.get('description', '') }}"
                  />
                </div>
                <div class="col-auto align-self-center">
                  <span
                    class="form-help"
                    data-bs-toggle="popover"
                    data-bs-placement="top"
                    data-bs-content="<p class='mb-0'>Description is only visible to Admin users.</p>"
                    data-bs-html="true"
                    >?</span
                  >
                </div>
              </div>
            </div>
          </div>

          <hr />
          <div class="row">
            <div class="col-lg-3">
              <div class="mb-3">
                <label class="form-label"
                  >Domains: <span class="text-danger">*</span></label
                >
                <div class="row g-2">
                  <div class="col">
                    <input
                      id="domains_limit"
                      class="form-control"
                      name="domains_limit"
                      placeholder=""
                      type="number"
                      required=""
                      min="0"
                      data-validate
                      value="{{ plan_template_data.get('domains', '') }}"
                    />
                  </div>
                  <div class="col-auto align-self-center">
                    <span
                      class="form-help"
                      data-bs-toggle="popover"
                      data-bs-placement="top"
                      data-bs-content="<p>Total number of domains users are allowed to add on this plan.</p><p class='mb-0'>Subdomains are not included in this limit.</p>"
                      data-bs-html="true"
                      >?</span
                    >
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-3">
              <div class="mb-3">
                <label class="form-label"
                  >Websites: <span class="text-danger">*</span></label
                >
                <div class="row g-2">
                  <div class="col">
                    <input
                      id="websites_limit"
                      class="form-control"
                      name="websites_limit"
                      placeholder=""
                      type="number"
                      required=""
                      min="0"
                      data-validate
                      value="{{ plan_template_data.get('websites', '') }}"
                    />
                  </div>
                  <div class="col-auto align-self-center">
                    <span
                      class="form-help"
                      data-bs-toggle="popover"
                      data-bs-placement="top"
                      data-bs-content="<p>Total number of websites users are allowed to manage on this plan.</p><p class='mb-0'>This encompasses both WordPress sites managed via the WP Manager interface and Python/NodeJS applications administered through the PM2 interface.</p>"
                      data-bs-html="true"
                      >?</span
                    >
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-3">
              <div class="mb-3">
                <label class="form-label"
                  >Databases: <span class="text-danger">*</span></label
                >
                <div class="row g-2">
                  <div class="col">
                    <input
                      id="db_limit"
                      class="form-control"
                      name="db_limit"
                      placeholder=""
                      type="number"
                      required=""
                      min="0"
                      data-validate
                      value="{{ plan_template_data.get('databases', '') }}"
                    />
                  </div>
                  <div class="col-auto align-self-center">
                    <span
                      class="form-help"
                      data-bs-toggle="popover"
                      data-bs-placement="top"
                      data-bs-content="<p class='mb-0'>Total number of MySQL databases users are allowed to create on this plan.</p>"
                      data-bs-html="true"
                      >?</span
                    >
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-3">
              <div class="mb-3">
                <label class="form-label"
                  >Emails: <span class="text-danger">*</span></label
                >
                <div class="row g-2">
                  <div class="col">
                    <input
                      id="email_limit"
                      class="form-control"
                      name="email_limit"
                      placeholder=""
                      type="number"
                      required=""
                      min="0"
                      data-validate
                      value="{{ plan_template_data.get('emails', '') }}"
                    />
                  </div>
                  <div class="col-auto align-self-center">
                    <span
                      class="form-help"
                      data-bs-toggle="popover"
                      data-bs-placement="top"
                      data-bs-content="<p class='mb-0'>Total number of Email addresses that can be created by user on this plan.</p>"
                      data-bs-html="true"
                      >?</span
                    >
                  </div>
                </div>
              </div>
            </div>

            <div class="col-lg-3">
              <div class="mb-3">
                <label class="form-label"
                  >FTP: <span class="text-danger">*</span></label
                >
                <div class="row g-2">
                  <div class="col">
                    <input
                      id="ftp_limit"
                      class="form-control"
                      name="ftp_limit"
                      placeholder=""
                      type="number"
                      required=""
                      min="0"
                      data-validate
                      value="{{ plan_template_data.get('ftp', '') }}"
                    />
                  </div>
                  <div class="col-auto align-self-center">
                    <span
                      class="form-help"
                      data-bs-toggle="popover"
                      data-bs-placement="top"
                      data-bs-content="<p class='mb-0'>Total number of FTP sub-accounts that can be created by user on this plan.</p>"
                      data-bs-html="true"
                      >?</span
                    >
                  </div>
                </div>
              </div>
            </div>




            <div class="col-lg-3">
              <div class="mb-3">
                <label class="form-label"
                  >Memory: <span class="text-danger">*</span></label
                >
                <div class="row g-2">
                  <div class="col">
                    <div class="input-group">
                      <input
                        id="ram"
                        class="form-control"
                        name="ram"
                        placeholder=""
                        type="number"
                        required=""
                        min="0"
                        data-validate
                        value="{{ plan_template_data.get('ram', '') }}"
                      />
                      <div class="input-group-append">
                        <span class="input-group-text" id="ram-gb">GB</span>
                      </div>
                    </div>
                  </div>
                  <div class="col-auto align-self-center">
                    <span
                      class="form-help"
                      data-bs-toggle="popover"
                      data-bs-placement="top"
                      data-bs-content="<p class='mb-0'>Physical Memory (RAM) limit in GB.</p>"
                      data-bs-html="true"
                      >?</span
                    >
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-3">
              <div class="mb-3">
                <label class="form-label"
                  >CPU: <span class="text-danger">*</span></label
                >
                <div class="row g-2">
                  <div class="col">
                    <div class="input-group">
                      <input
                        id="cpu"
                        class="form-control"
                        name="cpu"
                        placeholder=""
                        type="number"
                        required=""
                        min="0"
                        data-validate
                        value="{{ plan_template_data.get('cpu', '') }}"
                      />
                      <div class="input-group-append">
                        <span class="input-group-text" id="cpu-cores"
                          >cores</span
                        >
                      </div>
                    </div>
                  </div>
                  <div class="col-auto align-self-center">
                    <span
                      class="form-help"
                      data-bs-toggle="popover"
                      data-bs-placement="top"
                      data-bs-content="<p class='mb-0'>Number of CPU cores.</p>"
                      data-bs-html="true"
                      >?</span
                    >
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-3">
              <div class="mb-3">
                <label class="form-label"
                  >Port Speed: <span class="text-danger">*</span></label
                >
                <div class="row g-2">
                  <div class="col">
                    <div class="input-group">
                      <input
                        id="port_speed"
                        class="form-control"
                        name="port_speed"
                        placeholder=""
                        type="number"
                        name="port_speed"
                        required=""
                        min="1"
                        data-validate
                        value="{{ plan_template_data.get('port_speed', '') }}"
                      />
                      <div class="input-group-append">
                        <span class="input-group-text" id="port-mbits"
                          >mbits</span
                        >
                      </div>
                    </div>
                  </div>
                  <div class="col-auto align-self-center">
                    <span
                      class="form-help"
                      data-bs-toggle="popover"
                      data-bs-placement="top"
                      data-bs-content="<p class='mb-0'>Port Speed in mbit/s (i.e., the network speed or bandwidth available to the user for network operations).</p>"
                      data-bs-html="true"
                      >?</span
                    >
                  </div>
                </div>
              </div>
            </div>

            <div class="col-lg-4">
              <div class="mb-3">
                <label class="form-label"
                  >Disk limit: <span class="text-danger">*</span></label
                >
                <div class="row g-2">
                  <div class="col">
                    <div class="input-group">
                      <input
                        id="disk_limit"
                        class="form-control"
                        name="disk_limit"
                        type="number"
                        required=""
                        min="0"
                        data-validate
                        value="{{ plan_template_data.get('disk_limit_for_docker', '') }}"
                      />
                      <div class="input-group-append">
                        <span class="input-group-text" id="disk-gb">GB</span>
                      </div>
                    </div>
                  </div>
                  <div class="col-auto align-self-center">
                    <span
                      class="form-help"
                      data-bs-toggle="popover"
                      data-bs-placement="top"
                      data-bs-content="<p>Total disk usage limit in GB for the user.</p><p class='mb-0'>0 = unlimited</p>"
                      data-bs-html="true"
                      >?</span
                    >
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-4">
              <div class="mb-3">
                <label class="form-label"
                  >Inodes limit: <span class="text-danger">*</span></label
                >
                <div class="row g-2">
                  <div class="col">
                    <input
                      id="inodes_limit"
                      class="form-control"
                      name="inodes_limit"
                      placeholder="minimum 500k"
                      type="number"
                      required=""
                      min="0"
                      data-validate
                      value="{{ plan_template_data.get('inodes_for_storage_file', '') }}"
                    />
                  </div>
                  <div class="col-auto align-self-center">
                    <span
                      class="form-help"
                      data-bs-toggle="popover"
                      data-bs-placement="top"
                      data-bs-content="<p>Total number of inodes for all user files.</p><p class='mb-0'>0 = unlimited</p>"
                      data-bs-html="true"
                      >?</span
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <a
            href="#"
            class="btn btn-link link-secondary"
            data-bs-dismiss="modal"
          >
            Cancel
          </a>

          <button
            type="button"
            class="btn btn-primary ms-auto"
            id="CreatePlanButton"
          >
            <!-- Download SVG icon from http://tabler-icons.io/i/plus -->
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="icon"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              stroke-width="2"
              stroke="currentColor"
              fill="none"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
              <path d="M12 5l0 14"></path>
              <path d="M5 12l14 0"></path>
            </svg>
            Create Plan
          </button>
        </div>
      </form>
      </div>
    </div>
  </div>
</div>

        <!-- Page body -->
        <div class="page-body">


{% if plans %}

          <div class="container-xl">
            <div class="card">
              <div class="card-body p-0">
                <div id="table-default" class="table-responsive">
                  <table class="table table-vcenter card-table table-striped">
                    <thead>
                      <tr>
                        <th><button class="table-sort" data-sort="sort-id">ID</button></th>
                        <th><button class="table-sort" data-sort="sort-name">Plan name</button></th>
                        <th><button class="table-sort" data-sort="sort-du">Disk</button></th>
                        <th><button class="table-sort" data-sort="sort-inodes">Inodes</button></th>
                        <th style="display:none;"><button class="table-sort" data-sort="sort-storage-inodes">Inodes</button></th>
                        <th><button class="table-sort" data-sort="sort-domains">Domains</button></th>
                        <th><button class="table-sort" data-sort="sort-sites">Websites</button></th>
                        <th><button class="table-sort" data-sort="sort-emails">Emails</button></th>
                        <th><button class="table-sort" data-sort="sort-ftp">FTP</button></th>
                        <th><button class="table-sort" data-sort="sort-db">Databases</button></th>
                        <th><button class="table-sort" data-sort="sort-cpu">CPU</button></th>
                        <th><button class="table-sort" data-sort="sort-ram">RAM</button></th>
                        <th><button class="table-sort" data-sort="sort-port">Port Speed</button></th>
                        <th>&nbsp;</th>
                      </tr>
                    </thead>
                    <tbody class="table-tbody">
                      {% for plan in plans %}
                      <tr data-description="{{ plan.description }}" data-name="{{ plan.name }}" data-id="{{ plan.id }}">
                        <td class="sort-id">{{ plan.id }}</td>
                        <td class="sort-name">
                          <div class="d-flex align-items-center gap-2">
                          <div>
                            <div>{{ plan.name }}</div>
                            <span class="text-secondary">{{ plan.description }}</span>
                          </div>
                        </div>
                        </td>
                        <td class="sort-du">{% if plan.disk_limit == 0 %}∞{% else %}{{ plan.disk_limit }}{% endif %}</td>
                        <td class="sort-inodes">{% if plan.inodes_limit == "0" or plan.inodes_limit is none %}∞{% else %}{{ plan.inodes_limit }}{% endif %}</td>
                        <td class="sort-domains">{% if plan.domains_limit == 0 %}∞{% else %}{{ plan.domains_limit }}{% endif %}</td>
                        <td class="sort-sites">{% if plan.websites_limit == 0 %}∞{% else %}{{ plan.websites_limit }}{% endif %}</td>
                        <td class="sort-emails">{% if plan.email_limit == 0 %}∞{% else %}{{ plan.email_limit }}{% endif %}</td>
                        <td class="sort-ftp">{% if plan.ftp_limit == 0 %}∞{% else %}{{ plan.ftp_limit }}{% endif %}</td>
                        <td class="sort-db">{% if plan.db_limit == 0 %}∞{% else %}{{ plan.db_limit }}{% endif %}</td>
                        <td class="sort-cpu">{% if plan.cpu == 0 %}∞<svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-cpu-2"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 5m0 1a1 1 0 0 1 1 -1h12a1 1 0 0 1 1 1v12a1 1 0 0 1 -1 1h-12a1 1 0 0 1 -1 -1z" /><path d="M8 10v-2h2m6 6v2h-2m-4 0h-2v-2m8 -4v-2h-2" /><path d="M3 10h2" /><path d="M3 14h2" /><path d="M10 3v2" /><path d="M14 3v2" /><path d="M21 10h-2" /><path d="M21 14h-2" /><path d="M14 21v-2" /><path d="M10 21v-2" /></svg>{% else %}{{ plan.cpu }}<svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-cpu"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 5m0 1a1 1 0 0 1 1 -1h12a1 1 0 0 1 1 1v12a1 1 0 0 1 -1 1h-12a1 1 0 0 1 -1 -1z" /><path d="M9 9h6v6h-6z" /><path d="M3 10h2" /><path d="M3 14h2" /><path d="M10 3v2" /><path d="M14 3v2" /><path d="M21 10h-2" /><path d="M21 14h-2" /><path d="M14 21v-2" /><path d="M10 21v-2" /></svg>{% endif %}</td>
                        <td class="sort-ram">{% if plan.ram == '0 g' %}∞<svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="currentColor"  class="icon icon-tabler icons-tabler-filled icon-tabler-badge-sd"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19 4a3 3 0 0 1 3 3v10a3 3 0 0 1 -3 3h-14a3 3 0 0 1 -3 -3v-10a3 3 0 0 1 3 -3zm-4 4h-1a1 1 0 0 0 -1 1v6a1 1 0 0 0 1 1h1a3 3 0 0 0 3 -3v-2a3 3 0 0 0 -3 -3m-5.75 0h-1.25a2 2 0 0 0 -2 2v1a2 2 0 0 0 2 2h1v1h-1.033l-.025 -.087a1 1 0 0 0 -1.942 .337c0 .966 .784 1.75 1.75 1.75h1.25a2 2 0 0 0 2 -2v-1a2 2 0 0 0 -2 -2h-1v-1h1.032l.026 .087a1 1 0 0 0 1.942 -.337a1.75 1.75 0 0 0 -1.75 -1.75m5.75 2a1 1 0 0 1 1 1v2a1 1 0 0 1 -.883 .993l-.117 .007z" /></svg>{% else %}{{ plan.ram.rstrip('g') }}<svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-badge-sd"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 5m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z" /><path d="M14 9v6h1a2 2 0 0 0 2 -2v-2a2 2 0 0 0 -2 -2h-1z" /><path d="M7 14.25c0 .414 .336 .75 .75 .75h1.25a1 1 0 0 0 1 -1v-1a1 1 0 0 0 -1 -1h-1a1 1 0 0 1 -1 -1v-1a1 1 0 0 1 1 -1h1.25a.75 .75 0 0 1 .75 .75" /></svg>{% endif %}</td>
                        <td class="sort-port">{% if plan.bandwidth == 0 %}∞{% else %}{{ plan.bandwidth }} mbits{% endif %}</td>
                        <td class="">                
                        <div class="btn-list flex-nowrap">

                    <a href="#modal-edit-plan" data-bs-toggle="modal" data-bs-target="#modal-edit-plan" class="btn-edit btn">
<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-edit" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1" /><path d="M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z" /><path d="M16 5l3 3" /></svg> Edit
                    </a>
<span data-bs-toggle="tooltip" data-bs-placement="top" title="Delete plan">
<a href="/plans/delete/{{plan.name}}" class="btn btn-danger" id="deleteButton-{{plan.id}}" data-bs-toggle="modal" data-bs-target="#confirmDeleteUserModal" data-plan-name="{{plan.name}}"  data-plan-id="{{plan.id}}">
<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-trash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none" />
  <path d="M4 7l16 0" />
  <path d="M10 11l0 6" />
  <path d="M14 11l0 6" />
  <path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" />
  <path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" />
</svg> Delete</a>
</span>






                </div>
                </td>
                      </tr>
                      {% endfor %}
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
        </div>
{% else %}
<div class="page page-center">
      <div class="container-tight py-4">
        <div class="empty">
          <div class="empty-header">No Plans</div>
          <p class="empty-title">No plans or the MySQL service is not running.</p>
          <p class="d-none empty-subtitle text-secondary">
          </p>
          <div class="empty-action">
          <button
            id="addPlanButton"
            class="btn btn-primary"
            type="button"
            data-bs-toggle="modal"
            data-bs-target="#modal-report"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="icon"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              stroke-width="2"
              stroke="currentColor"
              fill="none"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
              <path d="M12 5l0 14"></path>
              <path d="M5 12l14 0"></path></svg
            >Create your first plan
          </button>








          </div>
        </div>
      </div>
    </div>
{% endif %}

      </div>


<!-- Delete Modal -->
    <div class="modal modal-blur fade" id="confirmDeleteUserModal" aria-labelledby="confirmDeleteUserModalLabel" tabindex="-1" role="dialog" aria-hidden="true" data-bs-backdrop="static">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <button type="button" id="deleteModalxClose" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          <div class="modal-status bg-danger"></div>
          <div class="modal-body text-center py-4">
            <!-- Download SVG icon from http://tabler-icons.io/i/alert-triangle -->
            <svg xmlns="http://www.w3.org/2000/svg" class="icon mb-2 text-danger icon-lg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10.24 3.957l-8.422 14.06a1.989 1.989 0 0 0 1.7 2.983h16.845a1.989 1.989 0 0 0 1.7 -2.983l-8.423 -14.06a1.989 1.989 0 0 0 -3.4 0z" /><path d="M12 9v4" /><path d="M12 17h.01" /></svg>
            <h3 id="confirmDeleteUserModalLabel">Are you sure you want to delete plan with the name: <b><span id="nameofplan"></span></b>?</h3>
            <div class="text-muted">        <small>Plan can not be deleted if it has active users.            
            </small></div>
        <!-- Input field for confirmation -->
        <div class="mt-3 mb-3">
          <label for="deleteConfirmation" class="form-label">Type "DELETE" to confirm:</label>
          <input type="text" class="form-control" id="deleteConfirmation">
        </div>
          </div>

          <div class="modal-footer">
            <div class="w-100">
              <div class="row">
                <div class="col"><a href="#" id="confirmDelete" class="btn btn-danger w-100" style="display: none;">
                    Terminate
                  </a></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>






<div
  class="modal modal-blur fade"
  id="modal-edit-plan"
  tabindex="-1"
  style="display: none"
  aria-hidden="true"
>
  <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Edit Plan</h5>
        <a style="display: none" href="#"
          ><svg
            xmlns="http://www.w3.org/2000/svg"
            class="icon icon-tabler icon-tabler-info-square-rounded-filled"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            stroke-width="2"
            stroke="currentColor"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <path
              d="M12 2l.642 .005l.616 .017l.299 .013l.579 .034l.553 .046c4.687 .455 6.65 2.333 7.166 6.906l.03 .29l.046 .553l.041 .727l.006 .15l.017 .617l.005 .642l-.005 .642l-.017 .616l-.013 .299l-.034 .579l-.046 .553c-.455 4.687 -2.333 6.65 -6.906 7.166l-.29 .03l-.553 .046l-.727 .041l-.15 .006l-.617 .017l-.642 .005l-.642 -.005l-.616 -.017l-.299 -.013l-.579 -.034l-.553 -.046c-4.687 -.455 -6.65 -2.333 -7.166 -6.906l-.03 -.29l-.046 -.553l-.041 -.727l-.006 -.15l-.017 -.617l-.004 -.318v-.648l.004 -.318l.017 -.616l.013 -.299l.034 -.579l.046 -.553c.455 -4.687 2.333 -6.65 6.906 -7.166l.29 -.03l.553 -.046l.727 -.041l.15 -.006l.617 -.017c.21 -.003 .424 -.005 .642 -.005zm0 9h-1l-.117 .007a1 1 0 0 0 0 1.986l.117 .007v3l.007 .117a1 1 0 0 0 .876 .876l.117 .007h1l.117 -.007a1 1 0 0 0 .876 -.876l.007 -.117l-.007 -.117a1 1 0 0 0 -.764 -.857l-.112 -.02l-.117 -.006v-3l-.007 -.117a1 1 0 0 0 -.876 -.876l-.117 -.007zm.01 -3l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007z"
              stroke-width="0"
              fill="currentColor"
            />
          </svg>
        </a>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <form id="EditplanForm">
        <input id="edit_id" class="form-control d-none" name="id" type="number" required="" data-validate value="" />
        <div class="modal-body">
          <div class="form-selectgroup-boxes row mb-3">
            <div class="col-lg-4">
              <label class="form-label"
                >Name: <span class="text-danger">*</span></label
              >
              <div class="row g-2">
                <div class="col">
                  <input
                    id="edit_name"
                    class="form-control"
                    name="name"
                    placeholder="Enter plan name"
                    type="text"
                    required=""
                    data-validate
                    value=""
                  />
                </div>
                <div class="col-auto align-self-center">
                  <span
                    class="form-help"
                    data-bs-toggle="popover"
                    data-bs-placement="top"
                    data-bs-content="<p class='mb-0'>Plan name is visible to the users.</p>"
                    data-bs-html="true"
                    >?</span
                  >
                </div>
              </div>
            </div>
            <!-- col -->
            <div class="col-lg-8">
              <label class="form-label">Description:</label>
              <div class="row g-2">
                <div class="col">
                  <input
                    id="edit_description"
                    class="form-control"
                    name="description"
                    placeholder="Enter description"
                    type="textarea"
                  />
                </div>
                <div class="col-auto align-self-center">
                  <span
                    class="form-help"
                    data-bs-toggle="popover"
                    data-bs-placement="top"
                    data-bs-content="<p class='mb-0'>Description is only visible to Admin users.</p>"
                    data-bs-html="true"
                    >?</span
                  >
                </div>
              </div>
            </div>
          </div>


          <hr />
          <div class="row">
            <div class="col-lg-3">
              <div class="mb-3">
                <label class="form-label"
                  >Domains: <span class="text-danger">*</span></label
                >
                <div class="row g-2">
                  <div class="col">
                    <input
                      id="edit_domains_limit"
                      class="form-control"
                      name="domains_limit"
                      placeholder=""
                      type="number"
                      required=""
                      min="0"
                      data-validate
                    />
                  </div>
                  <div class="col-auto align-self-center">
                    <span
                      class="form-help"
                      data-bs-toggle="popover"
                      data-bs-placement="top"
                      data-bs-content="<p>Total number of domains users are allowed to add on this plan.</p><p class='mb-0'>Subdomains are not included in this limit.</p>"
                      data-bs-html="true"
                      >?</span
                    >
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-3">
              <div class="mb-3">
                <label class="form-label"
                  >Websites: <span class="text-danger">*</span></label
                >
                <div class="row g-2">
                  <div class="col">
                    <input
                      id="edit_websites_limit"
                      class="form-control"
                      name="websites_limit"
                      placeholder=""
                      type="number"
                      required=""
                      min="0"
                      data-validate
                    />
                  </div>
                  <div class="col-auto align-self-center">
                    <span
                      class="form-help"
                      data-bs-toggle="popover"
                      data-bs-placement="top"
                      data-bs-content="<p>Total number of websites users are allowed to manage on this plan.</p><p class='mb-0'>This encompasses both WordPress sites managed via the WP Manager interface and Python/NodeJS applications administered through the PM2 interface.</p>"
                      data-bs-html="true"
                      >?</span
                    >
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-3">
              <div class="mb-3">
                <label class="form-label"
                  >Databases: <span class="text-danger">*</span></label
                >
                <div class="row g-2">
                  <div class="col">
                    <input
                      id="edit_db_limit"
                      class="form-control"
                      name="edit_db_limit"
                      placeholder=""
                      type="number"
                      required=""
                      min="0"
                      data-validate
                    />
                  </div>
                  <div class="col-auto align-self-center">
                    <span
                      class="form-help"
                      data-bs-toggle="popover"
                      data-bs-placement="top"
                      data-bs-content="<p class='mb-0'>Total number of MySQL databases users are allowed to create on this plan.</p>"
                      data-bs-html="true"
                      >?</span
                    >
                  </div>
                </div>
              </div>
            </div>

            <div class="col-lg-3">
              <div class="mb-3">
                <label class="form-label"
                  >Emails: <span class="text-danger">*</span></label
                >
                <div class="row g-2">
                  <div class="col">
                    <input
                      id="edit_email_limit"
                      class="form-control"
                      name="edit_email_limit"
                      placeholder=""
                      type="number"
                      required=""
                      min="0"
                      data-validate
                    />
                  </div>
                  <div class="col-auto align-self-center">
                    <span
                      class="form-help"
                      data-bs-toggle="popover"
                      data-bs-placement="top"
                      data-bs-content="<p class='mb-0'>Total number of Email accounts users are allowed to create on this plan.</p>"
                      data-bs-html="true"
                      >?</span
                    >
                  </div>
                </div>
              </div>
            </div>

            <div class="col-lg-3">
              <div class="mb-3">
                <label class="form-label"
                  >FTP: <span class="text-danger">*</span></label
                >
                <div class="row g-2">
                  <div class="col">
                    <input
                      id="edit_ftp_limit"
                      class="form-control"
                      name="edit_ftp_limit"
                      placeholder=""
                      type="number"
                      required=""
                      min="0"
                      data-validate
                    />
                  </div>
                  <div class="col-auto align-self-center">
                    <span
                      class="form-help"
                      data-bs-toggle="popover"
                      data-bs-placement="top"
                      data-bs-content="<p class='mb-0'>Total number of FTP sub-accounts users are allowed to create on this plan.</p>"
                      data-bs-html="true"
                      >?</span
                    >
                  </div>
                </div>
              </div>
            </div>



            <div class="col-lg-3">
              <div class="mb-3">
                <label class="form-label"
                  >Memory: <span class="text-danger">*</span></label
                >
                <div class="row g-2">
                  <div class="col">
                    <div class="input-group">
                      <input
                        id="edit_ram"
                        class="form-control"
                        name="edit_ram"
                        placeholder=""
                        type="number"
                        required=""
                        min="0"
                        data-validate
                      />
                      <div class="input-group-append">
                        <span class="input-group-text" id="ram-gb">GB</span>
                      </div>
                    </div>
                  </div>
                  <div class="col-auto align-self-center">
                    <span
                      class="form-help"
                      data-bs-toggle="popover"
                      data-bs-placement="top"
                      data-bs-content="<p class='mb-0'>Physical Memory (RAM) limit in GB.</p>"
                      data-bs-html="true"
                      >?</span
                    >
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-3">
              <div class="mb-3">
                <label class="form-label"
                  >CPU: <span class="text-danger">*</span></label
                >
                <div class="row g-2">
                  <div class="col">
                    <div class="input-group">
                      <input
                        id="edit_cpu"
                        class="form-control"
                        name="edit_cpu"
                        placeholder=""
                        type="number"
                        required=""
                        min="0"
                        data-validate
                      />
                      <div class="input-group-append">
                        <span class="input-group-text" id="cpu-cores"
                          >cores</span
                        >
                      </div>
                    </div>
                  </div>
                  <div class="col-auto align-self-center">
                    <span
                      class="form-help"
                      data-bs-toggle="popover"
                      data-bs-placement="top"
                      data-bs-content="<p class='mb-0'>Number of CPU cores.</p>"
                      data-bs-html="true"
                      >?</span
                    >
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-3">
              <div class="mb-3">
                <label class="form-label"
                  >Port Speed: <span class="text-danger">*</span></label
                >
                <div class="row g-2">
                  <div class="col">
                    <div class="input-group">
                      <input
                        id="edit_port_speed"
                        class="form-control"
                        name="edit_port_speed"
                        placeholder=""
                        type="number"
                        name="port_speed"
                        required=""
                        min="1"
                        data-validate
                      />
                      <div class="input-group-append">
                        <span class="input-group-text" id="port-mbits"
                          >mbits</span
                        >
                      </div>
                    </div>
                  </div>
                  <div class="col-auto align-self-center">
                    <span
                      class="form-help"
                      data-bs-toggle="popover"
                      data-bs-placement="top"
                      data-bs-content="<p class='mb-0'>Port Speed in mbit/s (i.e., the network speed or bandwidth available to the user for network operations).</p>"
                      data-bs-html="true"
                      >?</span
                    >
                  </div>
                </div>
              </div>
            </div>


            <div class="col-lg-6">
              <div class="mb-3">
                <label class="form-label"
                  >Disk limit: <span class="text-danger">*</span></label
                >
                <div class="row g-2">
                  <div class="col">
                    <div class="input-group">
                      <input
                        id="edit_disk_limit"
                        class="form-control"
                        name="edit_disk_limit"
                        type="number"
                        required=""
                        min="0"
                        data-validate
                      />
                      <div class="input-group-append">
                        <span class="input-group-text" id="disk-gb">GB</span>
                      </div>
                    </div>
                  </div>
                  <div class="col-auto align-self-center">
                    <span
                      class="form-help"
                      data-bs-toggle="popover"
                      data-bs-placement="top"
                      data-bs-content="<p>Total disk usage limit in GB for the user Docker container.</p><p class='mb-0'>0 = unlimited</p>"
                      data-bs-html="true"
                      >?</span
                    >
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-6">
              <div class="mb-3">
                <label class="form-label"
                  >Inodes limit: <span class="text-danger">*</span></label
                >
                <div class="row g-2">
                  <div class="col">
                    <input
                      id="edit_storage_file_inodes"
                      class="form-control"
                      name="edit_storage_file_inodes"
                      placeholder="minimum 250.000"
                      type="number"
                      required=""
                      min="0"
                      data-validate
                    />
                  </div>
                  <div class="col-auto align-self-center">
                    <span
                      class="form-help"
                      data-bs-toggle="popover"
                      data-bs-placement="top"
                      data-bs-content="<p>Total number of inodes for the users home directory.</p><p class='mb-0'>0 = unlimited</p>"
                      data-bs-html="true"
                      >?</span
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <a
            href="#"
            class="btn btn-link link-secondary"
            data-bs-dismiss="modal"
          >
            Cancel
          </a>

          <button
            type="button"
            class="btn btn-primary ms-auto"
            id="SavePlanButton"
          >
            Save Plan
          </button>
        </div>
      </form>
      </div>
 

<style>
  tr.this-user-row {
    border-left: .25rem var(--tblr-border-style) blue;
  }
</style>

<script src="{{ url_for('static', filename='pages/plans.js') }}" defer></script>


{% endblock %}
