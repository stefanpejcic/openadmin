{% extends 'base.html' %}

{% block content %}

<form method="POST">
<input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

<div x-data="{ searchQuery: '' }">
    <div x-data="{ showSection: false }" class="border-b border-gray-200 bg-gray-50 p-4 dark:border-gray-800 dark:bg-gray-950 sm:p-6 lg:p-8">
        <header>
            <div class="flex flex-col gap-2 text-center sm:flex-row sm:items-center sm:justify-between sm:text-start">
                <div class="grow">
                    <h1 class="flex gap-2 mb-1 text-xl font-bold">Edit Defaults <a href="/settings/defaults/files" class="flex w-full items-center gap-x-1.5 whitespace-nowrap rounded-md border border-gray-300 px-2 py-1.5 font-medium text-gray-600 hover:bg-gray-50 sm:w-fit sm:text-xs dark:border-gray-700 dark:text-gray-400 hover:dark:bg-gray-900 border-dashed outline outline-offset-2 outline-0 focus-visible:outline-2 outline-indigo-500 dark:outline-indigo-500 cursor-pointer"><span class="w-full text-left sm:w-fit">Advanced</span></a></h1>
                    <h2 class="text-sm font-medium text-slate-500">Edit defaults used for new OpenPanel user accounts.</h2>
                </div>
                <div class="flex flex-none items-center justify-center gap-2 rounded-sm px-2 sm:justify-end sm:bg-transparent sm:px-0">
                    <button class="relative inline-flex items-center justify-center whitespace-nowrap rounded-md border px-3 py-2 text-center text-sm font-medium shadow-sm transition-all duration-100 ease-in-out disabled:pointer-events-none disabled:shadow-none outline outline-offset-2 outline-0 focus-visible:outline-2 outline-indigo-500 dark:outline-indigo-500 border-transparent text-white dark:text-gray-900 bg-indigo-600 dark:bg-indigo-500 hover:bg-indigo-500 dark:hover:bg-indigo-600 disabled:bg-indigo-100 disabled:text-gray-400 disabled:dark:bg-indigo-800 disabled:dark:text-indigo-400" type="submit">Save</button>
                </div>
            </div>
        </header>
    </div>

  <div class="m-8">

<div class="grid grid-cols-1 gap-x-14 gap-y-8 md:grid-cols-3">
    <div>
        <h2 id="webserver" class="scroll-mt-10 font-semibold text-gray-900 dark:text-gray-50">Webserver</h2>
        <p class="mt-1 text-sm leading-6 text-gray-500">Set default webserver for new user accounts.</p>
        <p class="mt-1 text-sm leading-6 text-gray-500">Current: <b>{{ defaults.DEFAULTS.WEB_SERVER }}</b></p>
    </div>
    <div class="md:col-span-2">
        <div class="grid grid-cols-1 gap-4 sm:grid-cols-6">


<div class="col-span-full">
    <div role="radiogroup" aria-required="false" dir="ltr" class="grid gap-2" tabindex="0" style="outline: none;">

<div x-data="{
  selectedWebserver: '{{ defaults.DEFAULTS.WEB_SERVER }}' || 'apache',
  varnishEnabled: {{ 'true' if defaults.VARNISH else 'false' }}
}" class="space-y-8">


  <!-- Web Server Selector -->
    <div x-data="{ selectedWebserver: '{{ defaults.DEFAULTS.WEB_SERVER }}' || 'nginx' }">


    <div class="grid grid-cols-4 gap-4" role="radiogroup" aria-labelledby="webserver">
    {% set webservers = [
      {'value': 'apache', 'label': 'Apache'},
      {'value': 'nginx', 'label': 'Nginx'},
      {'value': 'openresty', 'label': 'OpenResty'},
      {'value': 'openlitespeed', 'label': 'Litespeed'}
    ] %}

      {% for ws in webservers %}
      <button
        type="button"
        role="radio"
        :aria-checked="selectedWebserver === '{{ ws.value }}' ? 'true' : 'false'"
        :data-state="selectedWebserver === '{{ ws.value }}' ? 'checked' : ''"
        @click="selectedWebserver = '{{ ws.value }}'"
        class="group relative w-full rounded-md border px-4 py-3 text-left shadow-sm transition focus:outline-none
               bg-white dark:bg-gray-950 border-gray-300 dark:border-gray-800
               data-[state=checked]:border-blue-500 data-[state=checked]:dark:border-blue-500
               data-[state=checked]:ring-2 data-[state=checked]:ring-blue-200 data-[state=checked]:dark:ring-blue-700/30"
      >
        <div class="flex items-center justify-center text-sm text-gray-900 dark:text-gray-50">
          <div class="flex items-center gap-2">
            {% if ws.value == 'apache' %}
<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-10 h-10" aria-label="Apache"><title>Apache</title><path fill="#D22128" d="M17.805 2.197v.066h.156v.44h.072v-.44h.156v-.066zm.9 0l-.175.353-.172-.353h-.087v.506h.067V2.3l.172.35h.045l.172-.35v.404h.066v-.506zm-4.257 1c-.204.31-.424.66-.66 1.06l-.04.062a44.457 44.457 0 00-1.265 2.29c-.187.36-.38.742-.577 1.146l2.267-.25c.66-.302.955-.578 1.242-.976a15.5 15.5 0 00.23-.342c.23-.363.46-.763.663-1.16.197-.386.37-.767.505-1.11.083-.22.15-.422.198-.6.042-.158.074-.307.1-.45-.884.15-1.965.295-2.668.33zM11.894 7.78l-.077.16c-.078.16-.157.32-.236.488-.086.18-.172.364-.26.552l-.132.287a75.265 75.265 0 00-1.427 3.3c-.163.397-.327.807-.493 1.23-.15.38-.297.765-.45 1.164l-.02.06c-.15.396-.3.802-.453 1.22l-.01.027.72-.08a.213.213 0 01-.042-.006c.863-.106 2.01-.75 2.75-1.547.342-.367.652-.8.94-1.306.213-.377.413-.795.604-1.258.168-.405.328-.843.48-1.318-.196.105-.423.18-.673.235a2.184 2.184 0 01-.273.046c.806-.31 1.314-.905 1.683-1.64a2.816 2.816 0 01-.968.428c-.06.012-.116.022-.174.03l-.043.006h.002c.278-.118.514-.248.718-.403a2.571 2.571 0 00.637-.698l.063-.104.077-.154a8.107 8.107 0 00.367-.85l.03-.088a3.04 3.04 0 00.123-.463.733.733 0 01-.094.065c-.243.145-.66.277-.996.34l.663-.074-.664.073h-.017l-.1.017c.006-.003.01-.006.017-.008l-2.265.25-.013.022zM8.27 16.45c-.117.323-.236.654-.355.992l-.005.015c-.016.046-.032.094-.05.142-.08.227-.15.432-.31.9.264.12.475.435.675.793a1.44 1.44 0 00-.466-.99c1.293.06 2.41-.27 2.99-1.217.05-.084.096-.173.14-.268-.26.333-.59.474-1.2.44 0 0-.004 0-.005.002l.004-.002c.9-.404 1.354-.79 1.754-1.433.094-.153.186-.32.28-.503-.788.81-1.702 1.04-2.664.865l-.72.078a6.43 6.43 0 00-.067.183zM15.42.112c-.376.222-1 .85-1.748 1.763l.686 1.294c.48-.687.97-1.307 1.462-1.836l.058-.062c-.02.02-.04.04-.057.062-.16.176-.644.74-1.375 1.863.703-.035 1.784-.18 2.666-.33.262-1.47-.258-2.142-.258-2.142s-.66-1.07-1.436-.61zm-3.084 6.402a40.253 40.253 0 011.306-2.26l.04-.064c.224-.352.45-.693.677-1.02l-.685-1.293-.157.192c-.197.245-.403.51-.613.79a39.853 39.853 0 00-2.016 2.97l-.022.038.893 1.763c.19-.378.38-.752.575-1.118zm-3.73 8.32c.158-.406.319-.81.483-1.225.156-.394.32-.79.484-1.19a91.133 91.133 0 011.6-3.604l.205-.424c.12-.243.237-.485.36-.724a.125.125 0 01.02-.04l-.895-1.763-.044.07c-.207.34-.414.687-.617 1.042a38.056 38.056 0 00-1.092 2.04l-.094.193a24.573 24.573 0 00-1.258 3.087 18.492 18.492 0 00-.52 1.997l.896 1.77c.117-.317.24-.638.364-.963zm-1.376-.476a13.38 13.38 0 00-.234 1.692c0 .02-.004.04-.005.06-.28-.45-1.03-.888-1.026-.884.537.778.944 1.55 1.005 2.31-.29.058-.684-.027-1.14-.195.475.436.83.556.97.588-.434.03-.89.328-1.346.67.668-.27 1.21-.38 1.596-.29-.61 1.74-1.23 3.655-1.843 5.69a.538.538 0 00.364-.354c.11-.368.84-2.786 1.978-5.965l.097-.27.028-.078c.12-.332.246-.672.374-1.02l.09-.237v-.004L7.24 14.3c-.003.02-.01.04-.012.06z"/></svg>
            {% elif ws.value == 'nginx' %}
<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-10 h-10" aria-label="NGINX"><title>NGINX</title><path fill="#009639" d="M12 0L1.605 6v12L12 24l10.395-6V6L12 0zm6 16.59c0 .705-.646 1.29-1.529 1.29-.631 0-1.351-.255-1.801-.81l-6-7.141v6.66c0 .721-.57 1.29-1.274 1.29H7.32c-.721 0-1.29-.6-1.29-1.29V7.41c0-.705.63-1.29 1.5-1.29.646 0 1.38.255 1.83.81l5.97 7.141V7.41c0-.721.6-1.29 1.29-1.29h.075c.72 0 1.29.6 1.29 1.29v9.18H18z"/></svg>
            {% elif ws.value == 'openresty' %}
<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-10 h-10" aria-label="OpenResty"><title>OpenResty</title><path fill="#7DC242" d="M12 0L1.75 6v12L12 24l10.25-6V6zm-1.775 18l1.08-4.657-2.428-2.397L13.79 6l-1.082 4.665 2.414 2.384z"/></svg>
            {% elif ws.value == 'openlitespeed' %}



<svg role="img" viewBox="0 0 257061 333334" xmlns="http://www.w3.org/2000/svg" class="w-10 h-10" aria-label="OpenLitespeed" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd" clip-rule="evenodd"><defs><style>.fil0{fill:#5e8cda}</style></defs><g id="Layer_x0020_1"><g id="litespeed.svg"><path class="fil0" d="M254635 161846l-76679-76621-32681 41400 35222 35222c3291 3233 3291 8545 0 11837l-10162 10162s6929 10278 7160 10971c1617 3118 1963 10567-2541 13973l-80086 61435v63110l159767-159652c3233-3291 3233-8545 0-11837z"/><path d="M76565 171488c-3233-3233-3233-8545 0-11779l10162-10220-6929-10047c-3349-4735-2309-11433 2310-14897l80143-61435V0h-115L2427 159709C873 161285 0 163413 0 165627c0 2215 873 4342 2427 5919l76679 76736 32681-41457-35222-35222v-115z" fill="#093071"/><path fill="#fff" d="M129917 222126l-37127 37069z"/><path class="fil0" d="M202554 38513c1039 0 2136 577 2598 1617 866 1732-289 3349-1386 4793l-70212 89035c-1039 1328-1155 3811-173 5197 0 0 37935 54853 39263 56758 1386 2079 1501 8199-1732 10740L58030 293263c-1617 1155-2541 1559-3637 1559-1039 0-2079-750-2483-1617-924-1732 231-3465 1328-4850l70154-89093c1039-1328 1155-3696 173-5081l-39090-56354c-2541-3580-1732-8661 1732-11259l112824-86610c1848-1443 2772-1617 3464-1617m0-1444c-1328 0-2598 578-4330 1906L85283 125413c-4042 3118-4966 9007-2021 13165l39148 56354c578 808 578 2483-115 3349l-70154 89266c-924 1155-2887 3695-1559 6352 693 1328 2194 2309 3696 2425 1732 0 3060-693 4619-1906l112824-86726c3926-2887 3926-9989 2078-12703-1328-1848-39263-56759-39263-56759-578-866-462-2598 173-3464l70270-88920c866-1155 2771-3580 1501-6351-751-1386-2310-2310-3926-2310l-58-289z"/><path d="M169757 196143c924 1386 1732 6582-577 8315L56356 291068c-981 808-1559 1155-1848 1155-404 0-115-693 924-2021l70154-89035c1732-2309 1906-6063 289-8372l-39148-56354s82107 58317 83030 59761v-57z" fill="#f5cd21"/><path d="M169757 196143l-38570-55431c-1617-2425-1501-6178 231-8430l70096-88978c1155-1386 1386-2078 1039-2078-289 0-924 346-1848 1155L87823 128991c-2194 1732-2714 5024-1039 7391l82972 59761z" fill="#fddd75"/></g></g><title>OpenLitespeed</title></svg>
            {% endif %}
            <span class="font-medium text-center">{{ ws.label }}</span>
          </div>
        </div>
      </button>
      {% endfor %}

    <input type="hidden" name="WEB_SERVER" :value="selectedWebserver">


    </div>
  </div>


</div>


    </div>
</div>



        </div>
    </div>
</div>
<div class="mx-auto my-6 flex w-full items-center justify-between gap-3 text-sm text-gray-500 dark:text-gray-500"><div class="h-[1px] w-full bg-gray-200 dark:bg-gray-800"></div></div>

<div class="grid grid-cols-1 gap-x-14 gap-y-8 md:grid-cols-3">
    <div>
        <h2 id="mysql" class="scroll-mt-10 font-semibold text-gray-900 dark:text-gray-50">Database</h2>
        <p class="mt-1 text-sm leading-6 text-gray-500">Set default database server for new user accounts.</p>
        <p class="mt-1 text-sm leading-6 text-gray-500">Current: <b>{{ defaults.DEFAULTS.MYSQL_TYPE }}</b></p>
    </div>
    <div class="md:col-span-2">
        <div class="grid grid-cols-1 gap-4 sm:grid-cols-6">


<div class="col-span-full">
    <div role="radiogroup" aria-required="false" dir="ltr" class="grid gap-2" tabindex="0" style="outline: none;">

<div x-data="{ selectedSQL: '{{ defaults.DEFAULTS.MYSQL_TYPE or 'mysql' }}' }" class="col-span-full sm:col-span-3 mt-4">

  <div class="grid grid-cols-2 gap-4" role="radiogroup" aria-labelledby="MYSQL_TYPE">
    {% for option in ['mysql', 'mariadb'] %}
    {% set label = 'MySQL' if option == 'mysql' else 'MariaDB' %}
    <button
      type="button"
      role="radio"
      :aria-checked="selectedSQL === '{{ option }}' ? 'true' : 'false'"
      :data-state="selectedSQL === '{{ option }}' ? 'checked' : ''"
      @click="selectedSQL = '{{ option }}'"
      class="group relative w-full rounded-md border px-4 pb-1 text-left shadow-sm transition focus:outline-none
             bg-white dark:bg-gray-950 border-gray-300 dark:border-gray-800
             data-[state=checked]:border-blue-500 data-[state=checked]:dark:border-blue-500
             data-[state=checked]:ring-2 data-[state=checked]:ring-blue-200 data-[state=checked]:dark:ring-blue-700/30"
    >
      <div class="flex items-center justify-center text-sm text-gray-900 dark:text-gray-50">
        <div class="group items-center gap-2">
          {% if option == 'mysql' %}
          <!-- Official MySQL Logo -->
<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-16 h-16" aria-label="MySQL"><title>MySQL</title><path fill="#003545" d="M16.405 5.501c-.115 0-.193.014-.274.033v.013h.014c.054.104.146.18.214.273.054.107.1.214.154.32l.014-.015c.094-.066.14-.172.14-.333-.04-.047-.046-.094-.08-.14-.04-.067-.126-.1-.18-.153zM5.77 18.695h-.927a50.854 50.854 0 00-.27-4.41h-.008l-1.41 4.41H2.45l-1.4-4.41h-.01a72.892 72.892 0 00-.195 4.41H0c.055-1.966.192-3.81.41-5.53h1.15l1.335 4.064h.008l1.347-4.064h1.095c.242 2.015.384 3.86.428 5.53zm4.017-4.08c-.378 2.045-.876 3.533-1.492 4.46-.482.716-1.01 1.073-1.583 1.073-.153 0-.34-.046-.566-.138v-.494c.11.017.24.026.386.026.268 0 .483-.075.647-.222.197-.18.295-.382.295-.605 0-.155-.077-.47-.23-.944L6.23 14.615h.91l.727 2.36c.164.536.233.91.205 1.123.4-1.064.678-2.227.835-3.483zm12.325 4.08h-2.63v-5.53h.885v4.85h1.745zm-3.32.135l-1.016-.5c.09-.076.177-.158.255-.25.433-.506.648-1.258.648-2.253 0-1.83-.718-2.746-2.155-2.746-.704 0-1.254.232-1.65.697-.43.508-.646 1.256-.646 2.245 0 .972.19 1.686.574 2.14.35.41.877.615 1.583.615.264 0 .506-.033.725-.098l1.325.772.36-.622zM15.5 17.588c-.225-.36-.337-.94-.337-1.736 0-1.393.424-2.09 1.27-2.09.443 0 .77.167.977.5.224.362.336.936.336 1.723 0 1.404-.424 2.108-1.27 2.108-.445 0-.77-.167-.978-.5zm-1.658-.425c0 .47-.172.856-.516 1.156-.344.3-.803.45-1.384.45-.543 0-1.064-.172-1.573-.515l.237-.476c.438.22.833.328 1.19.328.332 0 .593-.073.783-.22a.754.754 0 00.3-.615c0-.33-.23-.61-.648-.845-.388-.213-1.163-.657-1.163-.657-.422-.307-.632-.636-.632-1.177 0-.45.157-.81.47-1.085.315-.278.72-.415 1.22-.415.512 0 .98.136 1.4.41l-.213.476a2.726 2.726 0 00-1.064-.23c-.283 0-.502.068-.654.206a.685.685 0 00-.248.524c0 .328.234.61.666.85.393.215 1.187.67 1.187.67.433.305.648.63.648 1.168zm9.382-5.852c-.535-.014-.95.04-1.297.188-.1.04-.26.04-.274.167.055.053.063.14.11.214.08.134.218.313.346.407.14.11.28.216.427.31.26.16.555.255.81.416.145.094.293.213.44.313.073.05.12.14.214.172v-.02c-.046-.06-.06-.147-.105-.214-.067-.067-.134-.127-.2-.193a3.223 3.223 0 00-.695-.675c-.214-.146-.682-.35-.77-.595l-.013-.014c.146-.013.32-.066.46-.106.227-.06.435-.047.67-.106.106-.027.213-.06.32-.094v-.06c-.12-.12-.21-.283-.334-.395a8.867 8.867 0 00-1.104-.823c-.21-.134-.476-.22-.697-.334-.08-.04-.214-.06-.26-.127-.12-.146-.19-.34-.275-.514a17.69 17.69 0 01-.547-1.163c-.12-.262-.193-.523-.34-.763-.69-1.137-1.437-1.826-2.586-2.5-.247-.14-.543-.2-.856-.274-.167-.008-.334-.02-.5-.027-.11-.047-.216-.174-.31-.235-.38-.24-1.364-.76-1.644-.072-.18.434.267.862.422 1.082.115.153.26.328.34.5.047.116.06.235.107.356.106.294.207.622.347.897.073.14.153.287.247.413.054.073.146.107.167.227-.094.136-.1.334-.154.5-.24.757-.146 1.693.194 2.25.107.166.362.534.703.393.3-.12.234-.5.32-.835.02-.08.007-.133.048-.187v.015c.094.188.188.367.274.555.206.328.566.668.867.895.16.12.287.328.487.402v-.02h-.015c-.043-.058-.1-.086-.154-.133a3.445 3.445 0 01-.35-.4 8.76 8.76 0 01-.747-1.218c-.11-.21-.202-.436-.29-.643-.04-.08-.04-.2-.107-.24-.1.146-.247.273-.32.453-.127.288-.14.642-.188 1.01-.027.007-.014 0-.027.014-.214-.052-.287-.274-.367-.46-.2-.475-.233-1.238-.06-1.785.047-.14.247-.582.167-.716-.042-.127-.174-.2-.247-.303a2.478 2.478 0 01-.24-.427c-.16-.374-.24-.788-.414-1.162-.08-.173-.22-.354-.334-.513-.127-.18-.267-.307-.368-.52-.033-.073-.08-.194-.027-.274.014-.054.042-.075.094-.09.088-.072.335.022.422.062.247.1.455.194.662.334.094.066.195.193.315.226h.14c.214.047.455.014.655.073.355.114.675.28.962.46a5.953 5.953 0 012.085 2.286c.08.154.115.295.188.455.14.33.313.663.455.982.14.315.275.636.476.897.1.14.502.213.682.286.133.06.34.115.46.188.23.14.454.3.67.454.11.076.443.243.463.378z"/></svg>
          {% else %}
          <!-- Official MariaDB Logo -->
<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-16 h-16" aria-label="MariaDB"><title>MariaDB</title><path fill="#003545" d="M23.157 4.412c-.676.284-.79.31-1.673.372-.65.045-.757.057-1.212.209-.75.246-1.395.75-2.02 1.59-.296.398-1.249 1.913-1.249 1.988 0 .057-.65.998-.915 1.32-.574.713-1.08 1.079-2.14 1.59-.77.36-1.224.524-4.102 1.477-1.073.353-2.133.738-2.367.864-.852.449-1.515 1.036-2.203 1.938-1.003 1.32-.972 1.313-3.042.947a12.264 12.264 0 00-.675-.063c-.644-.05-1.023.044-1.332.334L0 17.193l.177.088c.094.05.353.234.561.398.215.17.461.347.55.391.088.044.17.088.183.101.012.013-.089.17-.228.353-.435.581-.593.871-.574 1.048.019.164.032.17.43.17.517-.006.826-.056 1.261-.208.65-.233 2.058-.94 2.784-1.4.776-.5 1.717-.998 1.956-1.042.082-.02.354-.07.594-.114.58-.107 1.464-.095 2.587.05.108.013.373.045.6.064.227.025.43.057.454.076.026.012.474.037.998.056.934.026 1.104.007 1.3-.189.126-.133.385-.631.498-.985.209-.643.417-.921.366-.492-.113.966-.322 1.692-.713 2.411-.259.499-.663 1.092-.934 1.395-.322.347-.315.36.088.315.619-.063 1.471-.397 2.096-.82.827-.562 1.647-1.691 2.19-3.03.107-.27.22-.22.183.083-.013.094-.038.315-.057.498l-.031.328.353-.202c.833-.48 1.414-1.262 2.127-2.884.227-.518.877-2.922 1.073-3.976a9.64 9.64 0 01.271-1.042c.127-.429.196-.555.48-.858.183-.19.625-.555.978-.808.72-.505.953-.75 1.187-1.205.208-.417.284-1.13.132-1.357-.132-.202-.284-.196-.763.006Z"/></svg>
          {% endif %}
          <span class="font-medium">{{ label }}{% if defaults.MYSQL_TYPE == option %} <span class="text-xs text-gray-500">(default)</span>{% endif %}</span>
        </div>
        
      </div>
    </button>

    <input type="radio" name="MYSQL_TYPE" value="{{ option }}" :checked="selectedSQL === '{{ option }}'" style="display: none;">
    {% endfor %}
  </div>
</div>



    </div>
</div>



        </div>
    </div>
</div>
<div class="mx-auto my-6 flex w-full items-center justify-between gap-3 text-sm text-gray-500 dark:text-gray-500"><div class="h-[1px] w-full bg-gray-200 dark:bg-gray-800"></div></div>

<div class="grid grid-cols-1 gap-x-14 gap-y-8 md:grid-cols-3">
    <div>
        <h2 id="varnish" class="scroll-mt-10 font-semibold text-gray-900 dark:text-gray-50">Varnish Cache</h2>
        <p class="mt-1 text-sm leading-6 text-gray-500">Enable Varnish cache by default for new users.</p>
        <p class="mt-1 text-sm leading-6 text-gray-500">Current: <b>{% if defaults.DEFAULTS.VARNISH %}Enabled{% else %}Disabled{% endif %}</b></p>
    </div>
    <div class="md:col-span-2">
        <div class="grid grid-cols-1 gap-4 sm:grid-cols-6">

            <div class="col-span-full">
                <div class="relative w-full mt-2">

                    <div class="row form-selectgroup form-selectgroup-boxes d-flex">
                        <div class="mt-4 grid grid-cols-1 gap-4">
    <label class="flex items-center space-x-2 mt-6 col-span-3">
      <input type="checkbox" name="VARNISH" value="1" 
             {% if defaults.DEFAULTS.VARNISH %} checked {% endif %}
             class="rounded text-indigo-600 focus:ring-indigo-500" />
      <span class="text-gray-700">Enable Varnish Proxy</span>
    </label>                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="mx-auto my-6 flex w-full items-center justify-between gap-3 text-sm text-gray-500 dark:text-gray-500"><div class="h-[1px] w-full bg-gray-200 dark:bg-gray-800"></div></div>



<div class="grid grid-cols-1 gap-x-14 gap-y-8 md:grid-cols-3">
    <div>
        <h2 id="default-php" class="scroll-mt-10 font-semibold text-gray-900 dark:text-gray-50">Default PHP version</h2>
        <p class="mt-1 text-sm leading-6 text-gray-500">Set default PHP version to be used for new domains.
        </p>
    </div>
    <div class="md:col-span-2">
        <div class="grid grid-cols-1 gap-4 sm:grid-cols-6">

            <div class="col-span-full">
                <div class="relative w-full mt-2">

                    <div class="row form-selectgroup form-selectgroup-boxes d-flex">
                        <div class="mt-4 grid grid-cols-1 gap-4">


    <label class="block">

<select name="DEFAULT_PHP_VERSION" class="group/trigger flex w-full select-none items-center justify-between gap-2 truncate rounded-md border px-3 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 data-[placeholder]:text-gray-500 data-[placeholder]:dark:text-gray-500 bg-white dark:bg-gray-950 hover:bg-gray-50 hover:dark:bg-gray-950/50 data-[disabled]:bg-gray-100 data-[disabled]:text-gray-400 data-[disabled]:dark:border-gray-700 data-[disabled]:dark:bg-gray-800 data-[disabled]:dark:text-gray-500 focus:ring-2 focus:ring-blue-200 focus:dark:ring-blue-700/30 focus:border-blue-500 focus:dark:border-blue-700 mt-2">
    {% for version in ['8.4', '8.3', '8.2', '8.1', '8.0', '7.4', '7.3', '7.2', '7.1', '7.0', '5.6'] %}
        <option value="{{ version }}" {% if defaults.DEFAULTS.PHP_VERSION == version %}selected{% endif %}>{{ version }} 
        {% if version in php_versions_data %}({{ php_versions_data[version]['statusLabel'] }}){% endif %} {% if defaults.DEFAULTS.PHP_VERSION == version %} - Current Default{% endif %}
    {% endfor %}
</option>

</select>

    </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="mx-auto my-6 flex w-full items-center justify-between gap-3 text-sm text-gray-500 dark:text-gray-500"><div class="h-[1px] w-full bg-gray-200 dark:bg-gray-800"></div></div>



  <!-- PHP_FPM versioned keys -->


<div class="grid grid-cols-1 gap-x-14 gap-y-8 md:grid-cols-3">
    <div>
        <h2 id="services" class="scroll-mt-10 font-semibold text-gray-900 dark:text-gray-50">Services</h2>
        <p class="mt-1 text-sm leading-6 text-gray-500">Configure service versions, CPU & Memory limits and other defaults.
        </p>
    </div>
    <div class="md:col-span-2">
        <div class="grid grid-cols-1 gap-4 sm:grid-cols-6">

            <div class="col-span-full">
                <div class="relative w-full mt-2">

                    <div class="row form-selectgroup form-selectgroup-boxes d-flex">
                        <div class="mt-4 grid grid-cols-1 gap-4">




  {% if defaults.PHP_FPM %}
    {% for version, items in defaults.PHP_FPM|dictsort(reverse=true) %}
    <div class="border rounded p-4 mb-4 bg-white dark:bg-[#090E1A] border-gray-200 dark:border-gray-900">
        
        
        <dd class="flex items-center gap-2">
            <div class="flex gap-0.5">
        {% if version in php_versions_data %}
    {% if php_versions_data[version]['isLatestVersion'] == True or php_versions_data[version]['isFutureVersion'] == True or php_versions_data[version]['isNextVersion'] == True %}
                <div class="h-3.5 w-1 rounded-sm bg-emerald-500 dark:bg-emerald-500"></div>
                <div class="h-3.5 w-1 rounded-sm bg-emerald-500 dark:bg-emerald-500"></div>
                <div class="h-3.5 w-1 rounded-sm bg-emerald-500 dark:bg-emerald-500"></div>
    {% elif php_versions_data[version]['isSecureVersion'] == True %}
                <div class="h-3.5 w-1 rounded-sm bg-orange-500 dark:bg-orange-500"></div>
                <div class="h-3.5 w-1 rounded-sm bg-orange-500 dark:bg-orange-500"></div>
                <div class="h-3.5 w-1 rounded-sm bg-gray-500 dark:bg-gray-500"></div>
    {% else %}                      
                <div class="h-3.5 w-1 rounded-sm bg-red-500 dark:bg-red-500"></div>
                <div class="h-3.5 w-1 rounded-sm bg-gray-500 dark:bg-gray-500"></div>
                <div class="h-3.5 w-1 rounded-sm bg-gray-500 dark:bg-gray-500"></div>
    {% endif %}
    {% else %} 
                <div class="h-3.5 w-1 rounded-sm bg-gray-500 dark:bg-gray-500"></div>
                <div class="h-3.5 w-1 rounded-sm bg-gray-500 dark:bg-gray-500"></div>
                <div class="h-3.5 w-1 rounded-sm bg-gray-500 dark:bg-gray-500"></div>
    {% endif %}

            </div>
            <p class="font-semibold">PHP Version  {{ version }}</p>
        </dd>

   {% if version in php_versions_data %}
   <div class="mb-2">
        Status: <b>{{ php_versions_data[version]['statusLabel'] }}</b> {% if php_versions_data[version]['isNextVersion'] or php_versions_data[version]['isFutureVersion'] %}| Release date: {{ php_versions_data[version]['releaseDate'] }}{% elif php_versions_data[version]['isLatestVersion'] %}| Supported until: {{ php_versions_data[version]['activeSupportEndDate'] }}        {% elif php_versions_data[version]['isEOLVersion'] %}| EOL date: {{ php_versions_data[version]['eolDate'] }}{% endif %}
    </div>
    {% endif %}



      <div class="grid grid-cols-2 gap-4">
        {% for subkey, value in items.items() %}


  {% if subkey.endswith('CPU') %}
        <label class="block">
          <span class="text-gray-700">CPU:</span>
          <input type="number" min="0" step="0.001" name="PHP_FPM_{{ version|replace('.', '_') }}_{{ subkey }}" value="{{ value[:-1] if value.endswith('G') else value }}" required
                 class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 file:-my-2 file:-ml-2.5 file:cursor-pointer file:rounded-l-[5px] file:rounded-r-none file:border-0 file:px-3 file:py-2 file:outline-none focus:outline-none disabled:pointer-events-none file:disabled:pointer-events-none file:border-solid file:border-gray-300 file:bg-gray-50 file:text-gray-500 file:hover:bg-gray-100 file:dark:border-gray-800 file:dark:bg-gray-950 file:hover:dark:bg-gray-900/20 file:disabled:dark:border-gray-700 file:[border-inline-end-width:1px] file:[margin-inline-end:0.75rem] file:disabled:bg-gray-100 file:disabled:text-gray-500 file:disabled:dark:bg-gray-800 focus:ring-2 focus:ring-indigo-200 focus:dark:ring-indigo-700/30 focus:border-indigo-500 focus:dark:border-indigo-700 [&::--webkit-search-cancel-button]:hidden [&::-webkit-search-cancel-button]:hidden [&::-webkit-search-decoration]:hidden" />
        </label>
  {% elif subkey.endswith('RAM') %}
        <label class="block">
          <span class="text-gray-700">Memory:</span>
          <input type="number" min="0" step="0.001"  name="PHP_FPM_{{ version|replace('.', '_') }}_{{ subkey }}" value="{{ value[:-1] if value.endswith('G') else value }}" required
                 class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 file:-my-2 file:-ml-2.5 file:cursor-pointer file:rounded-l-[5px] file:rounded-r-none file:border-0 file:px-3 file:py-2 file:outline-none focus:outline-none disabled:pointer-events-none file:disabled:pointer-events-none file:border-solid file:border-gray-300 file:bg-gray-50 file:text-gray-500 file:hover:bg-gray-100 file:dark:border-gray-800 file:dark:bg-gray-950 file:hover:dark:bg-gray-900/20 file:disabled:dark:border-gray-700 file:[border-inline-end-width:1px] file:[margin-inline-end:0.75rem] file:disabled:bg-gray-100 file:disabled:text-gray-500 file:disabled:dark:bg-gray-800 focus:ring-2 focus:ring-indigo-200 focus:dark:ring-indigo-700/30 focus:border-indigo-500 focus:dark:border-indigo-700 [&::--webkit-search-cancel-button]:hidden [&::-webkit-search-cancel-button]:hidden [&::-webkit-search-decoration]:hidden" />
        </label>
  {% else %}

        <label class="block">
<span class="text-gray-700">  {{ subkey.replace('_', ' ').title().replace('Php', 'PHP')}}</span>

      {% if value|string|lower == 'true' or value|string|lower == 'false' %}
<select name="PHP_FPM_{{ version|replace('.', '_') }}_{{ subkey }}" class="group/trigger flex w-full select-none items-center justify-between gap-2 truncate rounded-md border px-3 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 data-[placeholder]:text-gray-500 data-[placeholder]:dark:text-gray-500 bg-white dark:bg-gray-950 hover:bg-gray-50 hover:dark:bg-gray-950/50 data-[disabled]:bg-gray-100 data-[disabled]:text-gray-400 data-[disabled]:dark:border-gray-700 data-[disabled]:dark:bg-gray-800 data-[disabled]:dark:text-gray-500 focus:ring-2 focus:ring-blue-200 focus:dark:ring-blue-700/30 focus:border-blue-500 focus:dark:border-blue-700 mt-2" required>
    <option value="true" {% if value|string|lower == 'true' %}selected{% endif %}>True</option>
    <option value="false" {% if value|string|lower == 'false' %}selected{% endif %}>False</option>
  </select>
    {% else %}
          <input type="text" name="PHP_FPM_{{ version|replace('.', '_') }}_{{ subkey }}" value="{{ value }}" required
                 class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 file:-my-2 file:-ml-2.5 file:cursor-pointer file:rounded-l-[5px] file:rounded-r-none file:border-0 file:px-3 file:py-2 file:outline-none focus:outline-none disabled:pointer-events-none file:disabled:pointer-events-none file:border-solid file:border-gray-300 file:bg-gray-50 file:text-gray-500 file:hover:bg-gray-100 file:dark:border-gray-800 file:dark:bg-gray-950 file:hover:dark:bg-gray-900/20 file:disabled:dark:border-gray-700 file:[border-inline-end-width:1px] file:[margin-inline-end:0.75rem] file:disabled:bg-gray-100 file:disabled:text-gray-500 file:disabled:dark:bg-gray-800 focus:ring-2 focus:ring-indigo-200 focus:dark:ring-indigo-700/30 focus:border-indigo-500 focus:dark:border-indigo-700 [&::--webkit-search-cancel-button]:hidden [&::-webkit-search-cancel-button]:hidden [&::-webkit-search-decoration]:hidden" />
  {% endif %}

        </label>
  {% endif %}

        {% endfor %}
      </div>
    </div>
    {% endfor %}    
  {% endif %}  



  <!-- Each other group as separate fieldset -->
  {% for group_key, group_values in defaults.items() %}
    {% if group_key not in ['DEFAULTS', 'PHP_FPM'] %}


    <div class="border rounded p-4 mb-4 bg-white dark:bg-[#090E1A] border-gray-200 dark:border-gray-900">
      <h3 class="font-semibold">{{ group_key }}</h3>
      <div class="grid grid-cols-2 gap-4">
        {% for subkey, value in group_values.items() %}

  {% if subkey.endswith('CPU') %}
        <label class="block">
          <span class="text-gray-700">CPU:</span>
          <input type="number" min="0" step="0.001" name="{{ group_key }}_{{ subkey }}" value="{{ value[:-1] if value.endswith('G') else value }}" required
                 class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 file:-my-2 file:-ml-2.5 file:cursor-pointer file:rounded-l-[5px] file:rounded-r-none file:border-0 file:px-3 file:py-2 file:outline-none focus:outline-none disabled:pointer-events-none file:disabled:pointer-events-none file:border-solid file:border-gray-300 file:bg-gray-50 file:text-gray-500 file:hover:bg-gray-100 file:dark:border-gray-800 file:dark:bg-gray-950 file:hover:dark:bg-gray-900/20 file:disabled:dark:border-gray-700 file:[border-inline-end-width:1px] file:[margin-inline-end:0.75rem] file:disabled:bg-gray-100 file:disabled:text-gray-500 file:disabled:dark:bg-gray-800 focus:ring-2 focus:ring-indigo-200 focus:dark:ring-indigo-700/30 focus:border-indigo-500 focus:dark:border-indigo-700 [&::--webkit-search-cancel-button]:hidden [&::-webkit-search-cancel-button]:hidden [&::-webkit-search-decoration]:hidden" />
        </label>
  {% elif subkey.endswith('RAM') %}
        <label class="block">
          <span class="text-gray-700">Memory:</span>
          <input type="number" min="0" step="0.001" name="{{ group_key }}_{{ subkey }}" value="{{ value[:-1] if value.endswith('G') else value }}" required
                 class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 file:-my-2 file:-ml-2.5 file:cursor-pointer file:rounded-l-[5px] file:rounded-r-none file:border-0 file:px-3 file:py-2 file:outline-none focus:outline-none disabled:pointer-events-none file:disabled:pointer-events-none file:border-solid file:border-gray-300 file:bg-gray-50 file:text-gray-500 file:hover:bg-gray-100 file:dark:border-gray-800 file:dark:bg-gray-950 file:hover:dark:bg-gray-900/20 file:disabled:dark:border-gray-700 file:[border-inline-end-width:1px] file:[margin-inline-end:0.75rem] file:disabled:bg-gray-100 file:disabled:text-gray-500 file:disabled:dark:bg-gray-800 focus:ring-2 focus:ring-indigo-200 focus:dark:ring-indigo-700/30 focus:border-indigo-500 focus:dark:border-indigo-700 [&::--webkit-search-cancel-button]:hidden [&::-webkit-search-cancel-button]:hidden [&::-webkit-search-decoration]:hidden" />
        </label>
  {% else %}
  
        <label class="block">
          <span class="text-gray-700">{{ subkey.replace('_', ' ').title() }}:</span>
      {% if value|string|lower == 'true' or value|string|lower == 'false' %}
<select name="{{ group_key }}_{{ subkey }}" class="group/trigger flex w-full select-none items-center justify-between gap-2 truncate rounded-md border px-3 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 data-[placeholder]:text-gray-500 data-[placeholder]:dark:text-gray-500 bg-white dark:bg-gray-950 hover:bg-gray-50 hover:dark:bg-gray-950/50 data-[disabled]:bg-gray-100 data-[disabled]:text-gray-400 data-[disabled]:dark:border-gray-700 data-[disabled]:dark:bg-gray-800 data-[disabled]:dark:text-gray-500 focus:ring-2 focus:ring-blue-200 focus:dark:ring-blue-700/30 focus:border-blue-500 focus:dark:border-blue-700 mt-2" required>
   <option value="true" {% if value|string|lower == 'true' %}selected{% endif %}>True</option>
    <option value="false" {% if value|string|lower == 'false' %}selected{% endif %}>False</option>
  </select>
    {% else %}
          <input type="text" name="{{ group_key }}_{{ subkey }}" value="{{ value }}" required
                 class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 file:-my-2 file:-ml-2.5 file:cursor-pointer file:rounded-l-[5px] file:rounded-r-none file:border-0 file:px-3 file:py-2 file:outline-none focus:outline-none disabled:pointer-events-none file:disabled:pointer-events-none file:border-solid file:border-gray-300 file:bg-gray-50 file:text-gray-500 file:hover:bg-gray-100 file:dark:border-gray-800 file:dark:bg-gray-950 file:hover:dark:bg-gray-900/20 file:disabled:dark:border-gray-700 file:[border-inline-end-width:1px] file:[margin-inline-end:0.75rem] file:disabled:bg-gray-100 file:disabled:text-gray-500 file:disabled:dark:bg-gray-800 focus:ring-2 focus:ring-indigo-200 focus:dark:ring-indigo-700/30 focus:border-indigo-500 focus:dark:border-indigo-700 [&::--webkit-search-cancel-button]:hidden [&::-webkit-search-cancel-button]:hidden [&::-webkit-search-decoration]:hidden" />
  {% endif %}

        </label>
  {% endif %}


        {% endfor %}
      </div>
    </div>

    {% endif %}
  {% endfor %}


                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="mx-auto my-6 flex w-full items-center justify-between gap-3 text-sm text-gray-500 dark:text-gray-500"><div class="h-[1px] w-full bg-gray-200 dark:bg-gray-800"></div></div>

   
</div>
</div>
</form>
{% endblock %}


