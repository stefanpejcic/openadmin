<!-- templates/settings/user.html -->
{% extends 'base.html' %}

{% block content %}


<div x-data="{ searchQuery: '' }">
    <div x-data="{ showSection: false }" class="border-b border-gray-200 bg-gray-50 p-4 dark:border-gray-800 dark:bg-gray-950 sm:p-6 lg:p-8">


    <form method="post" id="changePanelSettings">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"> 
        <header>
            <div class="flex flex-col gap-2 text-center sm:flex-row sm:items-center sm:justify-between sm:text-start">
                <div class="grow">
                    <h1 class="mb-1 text-xl font-bold">OpenPanel settings</h1>
                    <h2 class="text-sm font-medium text-slate-500">Configure options for the OpenPanel UI.</h2>
                </div>
                <div class="flex flex-none items-center justify-center gap-2 rounded-sm px-2 sm:justify-end sm:bg-transparent sm:px-0">
                <button class="relative inline-flex items-center justify-center whitespace-nowrap rounded-md border px-3 py-2 text-center text-sm font-medium shadow-sm transition-all duration-100 ease-in-out disabled:pointer-events-none disabled:shadow-none outline outline-offset-2 outline-0 focus-visible:outline-2 outline-indigo-500 dark:outline-indigo-500 border-transparent text-white dark:text-gray-900 bg-indigo-600 dark:bg-indigo-500 hover:bg-indigo-500 dark:hover:bg-indigo-600 disabled:bg-indigo-100 disabled:text-gray-400 disabled:dark:bg-indigo-800 disabled:dark:text-indigo-400"
                    type="submit">Save changes</button>
                </div>
            </div>
        </header>
    </div>




<div class="m-8">



<div class="grid grid-cols-1 gap-x-14 gap-y-8 md:grid-cols-3">
    <div>
        <h2 id="brand" class="scroll-mt-10 font-semibold text-gray-900 dark:text-gray-50">Branding</h2>
        <p class="mt-1 text-sm leading-6 text-gray-500">Logo or Brand name are displayed on user panel interface inside the header and login pages.</p>
    </div>
    <div class="md:col-span-2">
        <div class="grid grid-cols-1 gap-4 sm:grid-cols-6">
            <div class="col-span-full"><label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="first-name">Brand name</label>
                <div class="relative w-full mt-2"><input class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 [&amp;::--webkit-search-cancel-button]:hidden [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden"
                        name="brand_name" placeholder="your awesome brand" value="{{ config_data['DEFAULT']['brand_name'] }}" type="text"></div>
            </div>
<div x-data="{ logoUrl: '{{ config_data['DEFAULT']['logo'] }}' }" class="col-span-full">
    <label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="logo">Logo</label>
    <div class="relative w-full mt-2 space-y-2">
        <input 
            class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500" 
            name="logo" 
            placeholder="Logo URL" 
            x-model="logoUrl"
            type="text">
        <template x-if="logoUrl">
            <img :src="logoUrl" class="mt-2 rounded shadow h-9 max-w-xs object-contain" alt="Logo Preview">
        </template>
        <p class="mt-2 text-xs text-gray-500">URL for a logo to be displayed instead of brand name in the OpenPanel interface: on the sidebar and login pages. (recommended image size: 200px*36px)</p>
    </div>
</div>
            <div class="col-span-full"><label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="logout">Logout URL</label>
                <div class="relative w-full mt-2">
                    <input class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 [&amp;::--webkit-search-cancel-button]:hidden [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden"
                        placeholder="must start with https://" autocomplete="off" value="{{ config_data['DEFAULT']['logout_url'] }}" type="text">
                    <p class="mt-2 text-xs text-gray-500">URL to redirect users after logout from the panel (usually your website).</p>

                </div>
            </div>

            <div class="col-span-full mt-6 flex justify-end"></div>
        </div>
    </div>
</div>

<div class="mx-auto my-6 flex w-full items-center justify-between gap-3 text-sm text-gray-500 dark:text-gray-500"><div class="h-[1px] w-full bg-gray-200 dark:bg-gray-800"></div></div>

<div class="grid grid-cols-1 gap-x-14 gap-y-8 md:grid-cols-3">
    <div>
        <h2 id="nameservers" class="scroll-mt-10 font-semibold text-gray-900 dark:text-gray-50">Nameservers</h2>
        <p class="mt-1 text-sm leading-6 text-gray-500">Refer to the documentation for instructions no how to properly configure nameservers. <a href="https://openpanel.com/docs/admin/settings/openpanel/#set-nameservers" target="_blank" class="inline-flex items-center gap-1 text-indigo-600 hover:underline hover:underline-offset-4 dark:text-indigo-400">Learn more<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" aria-hidden="true" class="remixicon size-4 shrink-0"><path d="M10 6V8H5V19H16V14H18V20C18 20.5523 17.5523 21 17 21H4C3.44772 21 3 20.5523 3 20V7C3 6.44772 3.44772 6 4 6H10ZM21 3V11H19L18.9999 6.413L11.2071 14.2071L9.79289 12.7929L17.5849 5H13V3H21Z"></path></svg></a></p>
    </div>
    <div class="md:col-span-2">
        <div class="grid grid-cols-1 gap-4 sm:grid-cols-6">
            <div class="col-span-full sm:col-span-3"><label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="ns1">ns1</label>
                <div class="relative w-full mt-2"><input class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 [&amp;::--webkit-search-cancel-button]:hidden [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden"
                        name="ns1" placeholder="ns1" value="{{ config_data['DEFAULT']['ns1'] }}" type="text"></div>
            </div>
            <div class="col-span-full sm:col-span-3"><label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="ns2">ns2</label>
                <div class="relative w-full mt-2"><input class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 [&amp;::--webkit-search-cancel-button]:hidden [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden"
                        name="ns2" placeholder="ns2" value="{{ config_data['DEFAULT']['ns2'] }}" type="text"></div>
            </div>
            <div class="col-span-full sm:col-span-3"><label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="ns3">ns3</label>
                <div class="relative w-full mt-2"><input class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 [&amp;::--webkit-search-cancel-button]:hidden [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden"
                        name="ns3" placeholder="ns3" value="{{ config_data['DEFAULT']['ns3'] }}" type="text"></div>
            </div>
            <div class="col-span-full sm:col-span-3"><label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="ns4">ns4</label>
                <div class="relative w-full mt-2"><input class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 [&amp;::--webkit-search-cancel-button]:hidden [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden"
                        name="ns4" placeholder="ns4" value="{{ config_data['DEFAULT']['ns4'] }}" type="text"></div>
            </div>
            <div class="col-span-full mt-6 flex justify-end"></div>
        </div>
    </div>
</div>


<div class="mx-auto my-6 flex w-full items-center justify-between gap-3 text-sm text-gray-500 dark:text-gray-500"><div class="h-[1px] w-full bg-gray-200 dark:bg-gray-800"></div></div>




<div class="grid grid-cols-1 gap-x-14 gap-y-8 md:grid-cols-3">
    <div>
        <h2 id="other" class="scroll-mt-10 font-semibold text-gray-900 dark:text-gray-50">Display</h2>
        <p class="mt-1 text-sm leading-6 text-gray-500">Additional display settings for user panel.</p>
    </div>
    <div class="md:col-span-2">
        <div class="grid grid-cols-1 gap-4 sm:grid-cols-6">
            <div class="col-span-full sm:col-span-3" x-data="{tooltip: false }">
                
    <label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium flex items-center gap-1" for="avatar_type">
        Avatar type
        <span @mouseenter="tooltip = true" @mouseleave="tooltip = false" class="relative cursor-pointer">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle-fill" viewBox="0 0 16 16">
            <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2"/>
            </svg>
            <div x-show="tooltip" x-transition
                 class="absolute z-10 mt-2 w-64 rounded-lg bg-gray-800 text-white text-sm px-3 py-2 shadow-lg"
                 style="top: 100%; left: 0;">
Select avatar type to be displayed in OpenPanel:

<div class="flex items-center gap-2 mt-2">
            <img src="https://www.gravatar.com/avatar/57216cb1950b67c4ee31dee26589f802?s=150&d=identicon" class="flex size-8 shrink-0 items-center justify-center rounded-full border border-gray-300 bg-white text-xs text-gray-700 dark:border-gray-800 dark:bg-gray-900 dark:text-gray-300"> - Gravatar
</div>
<div class="flex items-center gap-2">
<span class="flex size-8 shrink-0 items-center justify-center rounded-full border border-gray-300 bg-white text-xs text-gray-700 dark:border-gray-800 dark:bg-gray-900 dark:text-gray-300" aria-hidden="true">S</span>  - Letter
</div>
<div class="flex items-center gap-2">
            <span class="flex size-8 shrink-0 items-center justify-center rounded-full border border-gray-300 bg-white text-xs text-gray-700 dark:border-gray-800 dark:bg-gray-900 dark:text-gray-300" aria-hidden="true">
                <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-user"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0" /><path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" /></svg>            
            </span> - Icon
</div>

            </div>
        </span>
    </label>


                <div class="relative w-full mt-2">
                    <select class="group/trigger flex w-full select-none items-center justify-between gap-2 truncate rounded-md border px-3 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 data-[placeholder]:text-gray-500 data-[placeholder]:dark:text-gray-500 bg-white dark:bg-gray-950 hover:bg-gray-50 hover:dark:bg-gray-950/50 data-[disabled]:bg-gray-100 data-[disabled]:text-gray-400 data-[disabled]:dark:border-gray-700 data-[disabled]:dark:bg-gray-800 data-[disabled]:dark:text-gray-500 focus:ring-2 focus:ring-blue-200 focus:dark:ring-blue-700/30 focus:border-blue-500 focus:dark:border-blue-700 mt-2" name="avatar_type">
                        <option value="gravatar" {%if config_data['USERS']['avatar_type'] == 'gravatar' %}selected="selected"{% endif %}>Gravatar</option>
                        <option value="letter" {%if config_data['USERS']['avatar_type'] == 'letter' %}selected="selected"{% endif %}>Letter</option>
                        <option value="icon" {%if config_data['USERS']['avatar_type'] == 'icon' %}selected="selected"{% endif %}>Icon</option>
                      </select>
                </div>
            </div>

            <div class="col-span-full sm:col-span-3" x-data="{tooltip: false }">
                
    <label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium flex items-center gap-1" for="avatar_type">
        Charts mode for Resource Usage
        <span @mouseenter="tooltip = true" @mouseleave="tooltip = false" class="relative cursor-pointer">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle-fill" viewBox="0 0 16 16">
            <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2"/>
            </svg>
            <div x-show="tooltip" x-transition
                 class="absolute z-10 mt-2 w-64 rounded-lg bg-gray-800 text-white text-sm px-3 py-2 shadow-lg"
                 style="top: 100%; left: 0;">
Select number of charts to be used to represent the data in 'Resource Usage' page

<div class="flex items-center gap-2 mt-2">
            1<span> - One combined chart</span>
</div>
<div class="flex items-center gap-2">
            2<span> - Separate for Memory & CPU</span>
</div>
<div class="flex items-center gap-2">
            0<span> - No charts</span>
</div>
            </div>
        </span>
    </label>


                <div class="relative w-full mt-2">
                      <select name="resource_usage_charts_mode" class="group/trigger flex w-full select-none items-center justify-between gap-2 truncate rounded-md border px-3 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 data-[placeholder]:text-gray-500 data-[placeholder]:dark:text-gray-500 bg-white dark:bg-gray-950 hover:bg-gray-50 hover:dark:bg-gray-950/50 data-[disabled]:bg-gray-100 data-[disabled]:text-gray-400 data-[disabled]:dark:border-gray-700 data-[disabled]:dark:bg-gray-800 data-[disabled]:dark:text-gray-500 focus:ring-2 focus:ring-blue-200 focus:dark:ring-blue-700/30 focus:border-blue-500 focus:dark:border-blue-700 mt-2">
                        <option value="one" {%if config_data['USERS']['resource_usage_charts_mode'] == 'one' %}selected="selected"{% endif %}>One</option>
                        <option value="two" {%if config_data['USERS']['resource_usage_charts_mode'] == 'two' %}selected="selected"{% endif %}>Two</option>
                        <option value="none" {%if config_data['USERS']['resource_usage_charts_mode'] == 'none' %}selected="selected"{% endif %}>None</option>
                      </select>
                </div>
            </div>


<div class="col-span-full sm:col-span-3" x-data="{ weakpass: {{ 'true' if config_data['USERS']['weakpass'] == 'yes' else 'false' }}, tooltip: false }">
    <label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium flex items-center gap-1" for="weakpass_toggle">
        Check passwords against Weakpass.com
        <span @mouseenter="tooltip = true" @mouseleave="tooltip = false" class="relative cursor-pointer">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle-fill" viewBox="0 0 16 16">
            <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2"/>
            </svg>
            <template x-if="tooltip">
                <div x-transition
                     class="absolute z-10 mt-2 w-64 rounded-lg bg-gray-800 text-white text-sm px-3 py-2 shadow-lg"
                     style="top: 100%; left: 0;">
When enabled, user passwords during account creation and password resets are checked against Weakpass.com's database of compromised passwords to improve security.
            </div>
            </template>
        </span>
    </label>

    <div class="relative w-full mt-2 flex-grow flex items-center space-x-3">
        <!-- Toggle Switch -->
        <button
            type="button"
            role="switch"
            :aria-checked="weakpass.toString()"
            @click="weakpass = !weakpass"
            :class="weakpass ? 'bg-indigo-600 dark:bg-indigo-600' : 'bg-gray-200 dark:bg-gray-950'"
            class="group relative isolate inline-flex shrink-0 cursor-pointer items-center rounded-full p-0.5 shadow-inner ring-1 ring-inset transition-all ring-black/5 dark:ring-gray-800 outline outline-offset-2 outline-0 focus-visible:outline-2 outline-indigo-500 dark:outline-indigo-500 h-5 w-9"
        >
            <span
                :class="weakpass ? 'translate-x-4' : 'translate-x-0'"
                class="pointer-events-none relative inline-block transform appearance-none rounded-full border-none shadow-lg outline-none transition-all duration-150 ease-in-out bg-white dark:bg-gray-50 h-4 w-4"
            ></span>
        </button>

        <!-- Label -->
        <span class="text-sm text-gray-900 dark:text-gray-500" x-text="weakpass ? 'Yes' : 'No'"></span>

        <!-- Hidden input -->
        <input type="hidden" name="weakpass" :value="weakpass ? 'yes' : 'no'">
    </div>
</div>



<div class="col-span-full sm:col-span-3" x-data="{ password_reset: {{ 'true' if config_data['USERS']['password_reset'] == 'yes' else 'false' }}, tooltip: false }">
    <label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium flex items-center gap-1" for="password_reset_toggle">
        Enable password reset on login
        <span @mouseenter="tooltip = true" @mouseleave="tooltip = false" class="relative cursor-pointer">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle-fill" viewBox="0 0 16 16">
            <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2"/>
            </svg>
            <template x-if="tooltip">
                <div x-transition
                     class="absolute z-10 mt-2 w-64 rounded-lg bg-gray-800 text-white text-sm px-3 py-2 shadow-lg"
                     style="top: 100%; left: 0;">
When enabled, users can reset password from the login page.
            </div>
            </template>
        </span>
    </label>

    <div class="relative w-full mt-2 flex-grow flex items-center space-x-3">
        <!-- Toggle Switch -->
        <button
            type="button"
            role="switch"
            :aria-checked="password_reset.toString()"
            @click="password_reset = !password_reset"
            :class="password_reset ? 'bg-indigo-600 dark:bg-indigo-600' : 'bg-gray-200 dark:bg-gray-950'"
            class="group relative isolate inline-flex shrink-0 cursor-pointer items-center rounded-full p-0.5 shadow-inner ring-1 ring-inset transition-all ring-black/5 dark:ring-gray-800 outline outline-offset-2 outline-0 focus-visible:outline-2 outline-indigo-500 dark:outline-indigo-500 h-5 w-9"
        >
            <span
                :class="password_reset ? 'translate-x-4' : 'translate-x-0'"
                class="pointer-events-none relative inline-block transform appearance-none rounded-full border-none shadow-lg outline-none transition-all duration-150 ease-in-out bg-white dark:bg-gray-50 h-4 w-4"
            ></span>
        </button>

        <!-- Label -->
        <span class="text-sm text-gray-900 dark:text-gray-500" x-text="password_reset ? 'Yes' : 'No'"></span>

        <!-- Hidden input -->
        <input type="hidden" name="password_reset" :value="password_reset ? 'yes' : 'no'">
    </div>
</div>



<div class="col-span-full sm:col-span-3" x-data="{ twofa_nag: {{ 'true' if config_data['USERS']['twofa_nag'] == 'yes' else 'false' }}, tooltip: false }">
    <label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium flex items-center gap-1" for="twofa_nag_toggle">
        Display 2FA widget
        <span @mouseenter="tooltip = true" @mouseleave="tooltip = false" class="relative cursor-pointer">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle-fill" viewBox="0 0 16 16">
            <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2"/>
            </svg>

            <template x-if="tooltip">
                <div x-transition
                     class="absolute z-10 mt-2 w-64 rounded-lg bg-gray-800 text-white text-sm px-3 py-2 shadow-lg"
                     style="top: 100%; left: 0;">
When enabled, users will see a '2FA' widget in their OpenPanel Dashboard, allowing them to view their current 2FA status and quickly configure it.
            </div>
            </template>
        </span>
    </label>

    <div class="relative w-full mt-2 flex-grow flex items-center space-x-3">
        <!-- Toggle Switch -->
        <button
            type="button"
            role="switch"
            :aria-checked="twofa_nag.toString()"
            @click="twofa_nag = !twofa_nag"
            :class="twofa_nag ? 'bg-indigo-600 dark:bg-indigo-600' : 'bg-gray-200 dark:bg-gray-950'"
            class="group relative isolate inline-flex shrink-0 cursor-pointer items-center rounded-full p-0.5 shadow-inner ring-1 ring-inset transition-all ring-black/5 dark:ring-gray-800 outline outline-offset-2 outline-0 focus-visible:outline-2 outline-indigo-500 dark:outline-indigo-500 h-5 w-9"
        >
            <span
                :class="twofa_nag ? 'translate-x-4' : 'translate-x-0'"
                class="pointer-events-none relative inline-block transform appearance-none rounded-full border-none shadow-lg outline-none transition-all duration-150 ease-in-out bg-white dark:bg-gray-50 h-4 w-4"
            ></span>
        </button>

        <!-- Label -->
        <span class="text-sm text-gray-900 dark:text-gray-500" x-text="twofa_nag ? 'Yes' : 'No'"></span>

        <!-- Hidden input -->
        <input type="hidden" name="twofa_nag" :value="twofa_nag ? 'yes' : 'no'">
    </div>
</div>


<div class="col-span-full sm:col-span-3" x-data="{ how_to_guides: {{ 'true' if config_data['USERS']['how_to_guides'] == 'yes' else 'false' }}, tooltip: false }">
    <label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium flex items-center gap-1" for="how_to_guides_toggle">
        Display How-to guides widget
        <span @mouseenter="tooltip = true" @mouseleave="tooltip = false" class="relative cursor-pointer">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle-fill" viewBox="0 0 16 16">
            <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2"/>
            </svg>
            <template x-if="tooltip">
                <div x-transition
                     class="absolute z-10 mt-2 w-64 rounded-lg bg-gray-800 text-white text-sm px-3 py-2 shadow-lg"
                     style="top: 100%; left: 0;">
When enabled, users will see a 'How-to' widget in their OpenPanel Dashboard, with <a href="/settings/custom-code#howto-guides">links to your Knowledge base areticles</a>.
            </div>
            </template>
        </span>
    </label>

    <div class="relative w-full mt-2 flex-grow flex items-center space-x-3">
        <!-- Toggle Switch -->
        <button
            type="button"
            role="switch"
            :aria-checked="how_to_guides.toString()"
            @click="how_to_guides = !how_to_guides"
            :class="how_to_guides ? 'bg-indigo-600 dark:bg-indigo-600' : 'bg-gray-200 dark:bg-gray-950'"
            class="group relative isolate inline-flex shrink-0 cursor-pointer items-center rounded-full p-0.5 shadow-inner ring-1 ring-inset transition-all ring-black/5 dark:ring-gray-800 outline outline-offset-2 outline-0 focus-visible:outline-2 outline-indigo-500 dark:outline-indigo-500 h-5 w-9"
        >
            <span
                :class="how_to_guides ? 'translate-x-4' : 'translate-x-0'"
                class="pointer-events-none relative inline-block transform appearance-none rounded-full border-none shadow-lg outline-none transition-all duration-150 ease-in-out bg-white dark:bg-gray-50 h-4 w-4"
            ></span>
        </button>

        <!-- Label -->
        <span class="text-sm text-gray-900 dark:text-gray-500" x-text="how_to_guides ? 'Yes' : 'No'"></span>

        <!-- Hidden input -->
        <input type="hidden" name="how_to_guides" :value="how_to_guides ? 'yes' : 'no'">
    </div>
</div>

<div class="col-span-full sm:col-span-3" x-data="{ found_a_bug_link: {{ 'true' if config_data['USERS']['found_a_bug_link'] == 'yes' else 'false' }}, tooltip: false }">
    <label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium flex items-center gap-1" for="found_a_bug_link_toggle">
        Display link to report bugs
        <span @mouseenter="tooltip = true" @mouseleave="tooltip = false" class="relative cursor-pointer">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle-fill" viewBox="0 0 16 16">
            <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2"/>
            </svg>
            <template x-if="tooltip">
                <div x-transition
                     class="absolute z-10 mt-2 w-64 rounded-lg bg-gray-800 text-white text-sm px-3 py-2 shadow-lg"
                     style="top: 100%; left: 0;">
When enabled, a 'Found a bug? Let us know' link will appear at the bottom of all OpenPanel pages, allowing users to easily report bugs.
            </div>
            </template>
        </span>
    </label>

    <div class="relative w-full mt-2 flex-grow flex items-center space-x-3">
        <!-- Toggle Switch -->
        <button
            type="button"
            role="switch"
            :aria-checked="found_a_bug_link.toString()"
            @click="found_a_bug_link = !found_a_bug_link"
            :class="found_a_bug_link ? 'bg-indigo-600 dark:bg-indigo-600' : 'bg-gray-200 dark:bg-gray-950'"
            class="group relative isolate inline-flex shrink-0 cursor-pointer items-center rounded-full p-0.5 shadow-inner ring-1 ring-inset transition-all ring-black/5 dark:ring-gray-800 outline outline-offset-2 outline-0 focus-visible:outline-2 outline-indigo-500 dark:outline-indigo-500 h-5 w-9"
        >
            <span
                :class="found_a_bug_link ? 'translate-x-4' : 'translate-x-0'"
                class="pointer-events-none relative inline-block transform appearance-none rounded-full border-none shadow-lg outline-none transition-all duration-150 ease-in-out bg-white dark:bg-gray-50 h-4 w-4"
            ></span>
        </button>

        <!-- Label -->
        <span class="text-sm text-gray-900 dark:text-gray-500" x-text="found_a_bug_link ? 'Yes' : 'No'"></span>

        <!-- Hidden input -->
        <input type="hidden" name="found_a_bug_link" :value="found_a_bug_link ? 'yes' : 'no'">
    </div>
</div>

<div class="col-span-full sm:col-span-3"
     x-data="{ ip_county_flag: {{ 'true' if config_data['USERS']['ip_county_flag'] == 'yes' else 'false' }}, tooltip: false }">
    <label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium flex items-center gap-1"
           for="ip_county_flag_toggle">
        Display country flag icons
        <span @mouseenter="tooltip = true" @mouseleave="tooltip = false" class="relative cursor-pointer">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                 class="bi bi-info-circle-fill" viewBox="0 0 16 16">
                <path
                    d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2" />
            </svg>

            <template x-if="tooltip">
                <div x-transition
                     class="absolute z-10 mt-2 w-64 rounded-lg bg-gray-800 text-white text-sm px-3 py-2 shadow-lg"
                     style="top: 100%; left: 0;">
                    <span>When enabled, country flag icon will be displayed next to the 'Last login IP' in OpenPanel Dashboard page.</span>

                    <div class="relative mt-2 p-2 flex items-center" id="last-login-info">
                        <span class="relative font-medium hover:underline mr-1" id="last-ip">{{ public_ip }}</span>
                    </div>

                    <script>
                        async function FlagForIPaddress() {
                            const lastIpElement = document.getElementById("last-ip");
                            const lastLoginInfoElement = document.getElementById("last-login-info");

                            if (lastIpElement) {
                                const ip = lastIpElement.textContent.trim();
                                if (ip) {
                                    fetch(`https://api.country.is/${ip}`)
                                        .then(response => response.json())
                                        .then(data => {
                                            if (data && data.country) {
                                                const country_code = data.country.toLowerCase();
                                                const flagImage = document.createElement("img");
                                                flagImage.src = `/static/dist/img/flags/${country_code}.svg`;
                                                flagImage.alt = country_code.toUpperCase();
                                                flagImage.title = country_code.toUpperCase();
                                                flagImage.className = "w-8 h-6 rounded-sm mr-2";
                                                lastLoginInfoElement.appendChild(flagImage);
                                            }
                                        })
                                        .catch(error => {
                                            console.error("Error fetching country code:", error);
                                        });
                                }
                            }
                        }
                        FlagForIPaddress();
                    </script>
                </div>
            </template>
        </span>
    </label>
    <div class="relative w-full mt-2 flex-grow flex items-center space-x-3">
        <!-- Toggle Switch -->
        <button
            type="button"
            role="switch"
            :aria-checked="ip_county_flag.toString()"
            @click="ip_county_flag = !ip_county_flag"
            :class="ip_county_flag ? 'bg-indigo-600 dark:bg-indigo-600' : 'bg-gray-200 dark:bg-gray-950'"
            class="group relative isolate inline-flex shrink-0 cursor-pointer items-center rounded-full p-0.5 shadow-inner ring-1 ring-inset transition-all ring-black/5 dark:ring-gray-800 outline outline-offset-2 outline-0 focus-visible:outline-2 outline-indigo-500 dark:outline-indigo-500 h-5 w-9"
        >
            <span
                :class="ip_county_flag ? 'translate-x-4' : 'translate-x-0'"
                class="pointer-events-none relative inline-block transform appearance-none rounded-full border-none shadow-lg outline-none transition-all duration-150 ease-in-out bg-white dark:bg-gray-50 h-4 w-4"
            ></span>
        </button>

        <!-- Label -->
        <span class="text-sm text-gray-900 dark:text-gray-500" x-text="ip_county_flag ? 'Yes' : 'No'"></span>

        <!-- Hidden input -->
        <input type="hidden" name="ip_county_flag" :value="ip_county_flag ? 'yes' : 'no'">
    </div>




</div>


        </div>
    </div>
</div>

<div class="mx-auto my-6 flex w-full items-center justify-between gap-3 text-sm text-gray-500 dark:text-gray-500"><div class="h-[1px] w-full bg-gray-200 dark:bg-gray-800"></div></div>




<div class="grid grid-cols-1 gap-x-14 gap-y-8 md:grid-cols-3">
    <div>
        <h2 id="other" class="scroll-mt-10 font-semibold text-gray-900 dark:text-gray-50">File Manager</h2>
        <p class="mt-1 text-sm leading-6 text-gray-500">Settings for File Manager.</p>
    </div>
    <div class="md:col-span-2">
        <div class="grid grid-cols-1 gap-4 sm:grid-cols-6">

            <div class="col-span-full sm:col-span-3"><label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="filemanager_view_size">Max file size for Viewer:</label>
                <div class="relative w-full mt-2 flex-grow flex items-center"><input class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 [&amp;::--webkit-search-cancel-button]:hidden [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden"
                        name="filemanager_view_size" required placeholder="10" value="{{ config_data['FILES']['filemanager_view_size'] }}" type="number" min="0"><span class="ml-2 text-sm text-gray-600 dark:text-gray-400">MB</span></div>
            </div>


            <div class="col-span-full sm:col-span-3"><label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="filemanager_edit_size">Max file size for Editor:</label>
                <div class="relative w-full mt-2 flex-grow flex items-center"><input class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 [&amp;::--webkit-search-cancel-button]:hidden [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden"
                        name="filemanager_edit_size" required placeholder="10" value="{{ config_data['FILES']['filemanager_edit_size'] }}" type="number" min="0"><span class="ml-2 text-sm text-gray-600 dark:text-gray-400">MB</span></div>
            </div>

            <div class="col-span-full sm:col-span-3"><label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="filemanager_upload_size">Max file size for Upload:</label>
                <div class="relative w-full mt-2 flex-grow flex items-center"><input class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 [&amp;::--webkit-search-cancel-button]:hidden [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden"
                        name="filemanager_upload_size" required placeholder="2000" value="{{ config_data['FILES']['filemanager_upload_size'] }}" type="number" min="0"><span class="ml-2 text-sm text-gray-600 dark:text-gray-400">MB</span></div>
            </div>

            <div class="col-span-full sm:col-span-3"><label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="filemanager_download_size">Max file size for Download:</label>
                <div class="relative w-full mt-2 flex-grow flex items-center"><input class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 [&amp;::--webkit-search-cancel-button]:hidden [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden"
                        name="filemanager_download_size" required placeholder="2000" value="{{ config_data['FILES']['filemanager_download_size'] }}" type="number" min="0"><span class="ml-2 text-sm text-gray-600 dark:text-gray-400">MB</span></div>
            </div>

            <div class="col-span-full sm:col-span-3"><label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="autopurge_trash">Auto-purge trash after:</label>
                <div class="relative w-full mt-2 flex-grow flex items-center">
                    <input class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 [&amp;::--webkit-search-cancel-button]:hidden [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden" name="autopurge_trash" required placeholder="30" value="{{ config_data['FILES']['autopurge_trash'] }}" type="number" min="0"><span class="ml-2 text-sm text-gray-600 dark:text-gray-400">Days</span></div>
            </div>

            <div class="col-span-full sm:col-span-3"><label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="filemanager_compress_max_time">Max time for compress process:</label>
                <div class="relative w-full mt-2 flex-grow flex items-center">
                    <input class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 [&amp;::--webkit-search-cancel-button]:hidden [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden" name="filemanager_compress_max_time" required placeholder="5" value="{{ config_data['FILES']['filemanager_compress_max_time'] }}" type="number" min="1"><span class="ml-2 text-sm text-gray-600 dark:text-gray-400">Min</span></div>
            </div>

            <div class="col-span-full sm:col-span-3"><label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="filemanager_extract_max_time">Max time for extract process:</label>
                <div class="relative w-full mt-2 flex-grow flex items-center">
                    <input class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 [&amp;::--webkit-search-cancel-button]:hidden [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden" name="filemanager_extract_max_time" required placeholder="5" value="{{ config_data['FILES']['filemanager_extract_max_time'] }}" type="number" min="1"><span class="ml-2 text-sm text-gray-600 dark:text-gray-400">Min</span></div>
            </div>


            <div class="col-span-full sm:col-span-3"><label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="filemanager_download_max_time">Max time for download process:</label>
                <div class="relative w-full mt-2 flex-grow flex items-center">
                    <input class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 [&amp;::--webkit-search-cancel-button]:hidden [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden" name="filemanager_download_max_time" required placeholder="60" value="{{ config_data['FILES']['filemanager_download_max_time'] }}" type="number" min="1"><span class="ml-2 text-sm text-gray-600 dark:text-gray-400">Min</span></div>
            </div>


            <div class="col-span-full" x-data="restoreComponentFor('filemanager_edit_extensions', 'https://gist.githubusercontent.com/stefanpejcic/ae44ec0444b1bf7eb38b6aad97dc6c74/raw/a76f8a2f9ff2a8462fff60f62ccac82cb3619376/filemanager_edit_extensions.txt')"><label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="filemanager_edit_extensions">Enable View and Edit options for (textual) extensions:</label>
                <div class="relative w-full mt-2 flex-grow flex items-center">
                    <input class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 [&amp;::--webkit-search-cancel-button]:hidden [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden" id="filemanager_edit_extensions" name="filemanager_edit_extensions" required value="{{ config_data['FILES']['filemanager_edit_extensions'] }}" type="text"><span class="ml-2 text-sm text-gray-600 dark:text-gray-400">    <button
      type="button"
      @click="restoreDefault"
      class="inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs font-semibold text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700"
      :disabled="loading">
      <template x-if="!loading"><span>Restore Default</span></template>
      <template x-if="loading">
        <svg class="animate-spin h-4 w-4 text-gray-600 dark:text-gray-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" />
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z" />
        </svg>
      </template>
    </button></span></div>
            </div>

            <div class="col-span-full" x-data="restoreComponentFor('filemanager_image_extensions', 'https://gist.githubusercontent.com/stefanpejcic/ae44ec0444b1bf7eb38b6aad97dc6c74/raw/a76f8a2f9ff2a8462fff60f62ccac82cb3619376/filemanager_image_extensions.txt')"><label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="filemanager_image_extensions">Enable View option for (base64 image) extensions:</label>
                <div class="relative w-full mt-2 flex-grow flex items-center">
                    <input class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 [&amp;::--webkit-search-cancel-button]:hidden [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden" id="filemanager_image_extensions" name="filemanager_image_extensions" required value="{{ config_data['FILES']['filemanager_image_extensions'] }}" type="text"><span class="ml-2 text-sm text-gray-600 dark:text-gray-400"><button
      type="button"
      @click="restoreDefault"
      class="inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs font-semibold text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700"
      :disabled="loading">
      <template x-if="!loading"><span>Restore Default</span></template>
      <template x-if="loading">
        <svg class="animate-spin h-4 w-4 text-gray-600 dark:text-gray-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" />
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z" />
        </svg>
      </template>
    </button></span></div>
            </div>


            <div class="col-span-full" x-data="restoreComponentFor('filemanager_archives_extensions', 'https://gist.githubusercontent.com/stefanpejcic/ae44ec0444b1bf7eb38b6aad97dc6c74/raw/a76f8a2f9ff2a8462fff60f62ccac82cb3619376/filemanager_archives_extensions.txt')"><label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="filemanager_archives_extensions">Enable Extract and Archive options for (archives) extensions:</label>
                <div class="relative w-full mt-2 flex-grow flex items-center">
                    <input class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 [&amp;::--webkit-search-cancel-button]:hidden [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden" id="filemanager_archives_extensions" name="filemanager_archives_extensions" required value="{{ config_data['FILES']['filemanager_archives_extensions'] }}" type="text"><span class="ml-2 text-sm text-gray-600 dark:text-gray-400">    <button
      type="button"
      @click="restoreDefault"
      class="inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs font-semibold text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700"
      :disabled="loading">
      <template x-if="!loading"><span>Restore Default</span></template>
      <template x-if="loading">
        <svg class="animate-spin h-4 w-4 text-gray-600 dark:text-gray-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" />
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z" />
        </svg>
      </template>
    </button></span></div>
            </div>







            <div class="col-span-full mt-6 flex justify-end"></div>
        </div>
    </div>
</div>


<div class="mx-auto my-6 flex w-full items-center justify-between gap-3 text-sm text-gray-500 dark:text-gray-500"><div class="h-[1px] w-full bg-gray-200 dark:bg-gray-800"></div></div>


<div class="grid grid-cols-1 gap-x-14 gap-y-8 md:grid-cols-3">
    <div>
        <h2 id="login_ratelimit" class="scroll-mt-10 font-semibold text-gray-900 dark:text-gray-50">Statistics</h2>
        <p class="mt-1 text-sm leading-6 text-gray-500"></p>
    </div>
    <div class="md:col-span-2">

                              <div class="grid grid-cols-1 gap-4 sm:grid-cols-6">

                                

            <div class="col-span-full sm:col-span-3"><label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="login_ratelimit">Failed logins per minute before user is rate-limited:</label>
                <div class="relative w-full mt-2 flex-grow flex items-center">
                    <input class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 [&amp;::--webkit-search-cancel-button]:hidden [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden" name="login_ratelimit" required placeholder="30" value="{{ config_data['USERS']['login_ratelimit'] }}" type="number" min="5"></div>
            </div>

            <div class="col-span-full sm:col-span-3"><label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="login_blocklimit">Failed logins per minute before user is blocked for 1h:</label>
                <div class="relative w-full mt-2 flex-grow flex items-center">
                    <input class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 [&amp;::--webkit-search-cancel-button]:hidden [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden" name="login_blocklimit" required placeholder="20" value="{{ config_data['USERS']['login_blocklimit'] }}" type="number" min="5"></div>
            </div>


            <div class="col-span-full sm:col-span-3"><label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="session_duration">Session duration (in minutes):</label>
                <div class="relative w-full mt-2 flex-grow flex items-center">
                    <input class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 [&amp;::--webkit-search-cancel-button]:hidden [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden" name="session_duration" required placeholder="20" value="{{ config_data['USERS']['session_duration'] }}" type="number" min="5"></div>
            </div>




            <div class="col-span-full sm:col-span-3"><label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="session_lifetime">Session lifetime (in minutes):</label>
                <div class="relative w-full mt-2 flex-grow flex items-center">
                    <input class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 [&amp;::--webkit-search-cancel-button]:hidden [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden" name="session_lifetime" required placeholder="20" value="{{ config_data['USERS']['session_lifetime'] }}" type="number" min="5"></div>
            </div>



            <div class="col-span-full sm:col-span-3"><label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="max_login_records">Login records to keep per user</label>
                <div class="relative w-full mt-2 flex-grow flex items-center">
                    <input class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 [&amp;::--webkit-search-cancel-button]:hidden [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden" name="max_login_records" required placeholder="20" value="{{ config_data['USERS']['max_login_records'] }}" type="number" min="5"></div>
            </div>

            <div class="col-span-full sm:col-span-3"><label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="activity_lines_retention">Activity records to store per user:</label>
                <div class="relative w-full mt-2 flex-grow flex items-center">
                    <input class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 [&amp;::--webkit-search-cancel-button]:hidden [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden" name="activity_lines_retention" required placeholder="1000" value="{{ config_data['USERS']['activity_lines_retention'] }}" type="number" min="10"></div>
            </div>


            <div class="col-span-full sm:col-span-3"><label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="activity_items_per_page">Activity items per page:</label>
                <div class="relative w-full mt-2 flex-grow flex items-center">
                    <input class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 [&amp;::--webkit-search-cancel-button]:hidden [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden" name="activity_items_per_page" required placeholder="25" value="{{ config_data['USERS']['activity_items_per_page'] }}" type="number" min="5"></div>
            </div>

            <div class="col-span-full sm:col-span-3"><label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="resource_usage_items_per_page">Resource Usage items to display per page:</label>
                <div class="relative w-full mt-2 flex-grow flex items-center">
                    <input class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 [&amp;::--webkit-search-cancel-button]:hidden [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden" name="resource_usage_items_per_page" required placeholder="25" value="{{ config_data['USERS']['resource_usage_items_per_page'] }}" type="number" min="5"></div>
            </div>


            <div class="col-span-full sm:col-span-3"><label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="resource_usage_retention">Resource Usage items to log per user:</label>
                <div class="relative w-full mt-2 flex-grow flex items-center">
                    <input class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 [&amp;::--webkit-search-cancel-button]:hidden [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden" name="resource_usage_retention" required placeholder="100" value="{{ config_data['USERS']['resource_usage_retention'] }}" type="number" min="10"></div>
            </div>


            <div class="col-span-full sm:col-span-3"><label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="domains_per_page">Domains per page:</label>
                <div class="relative w-full mt-2 flex-grow flex items-center">
                    <input class="relative block w-full appearance-none truncate rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 [&amp;::--webkit-search-cancel-button]:hidden [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden" name="domains_per_page" required placeholder="100" value="{{ config_data['USERS']['domains_per_page'] }}" type="number" min="5"></div>
            </div>


    </div>

    
</div>



</div>


<script>
function restoreComponentFor(id, githubFile) {
  return {
    loading: false,
    async restoreDefault() {
      this.loading = true;
      try {
        const res = await fetch(githubFile);
        if (!res.ok) throw new Error('Failed to fetch default configuration from GitHub');
        const text = await res.text();
        const input = document.getElementById(id);
        if (input) input.value = text;
      } catch (e) {
        alert(e.message);
      } finally {
        this.loading = false;
      }
    }
  }
}
</script>

</div>

{% endblock %}
