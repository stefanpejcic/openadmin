<!-- users/add.html -->
{% extends 'base.html' %}

{% block content %}



<div>
    <div x-data="{ showSection: false }" class="border-b border-gray-200 bg-gray-50 p-4 dark:border-gray-800 dark:bg-gray-950 sm:p-6 lg:p-8">
        <header>
            <div class="flex flex-col gap-2 text-center sm:flex-row sm:items-center sm:justify-between sm:text-start">
                <div class="grow">
                    <h1 id="title" class="mb-1 text-xl font-bold">Create User Account</h1>
                    <h2 id="subtitle" class="text-sm font-medium text-slate-500">Create new OpenPanel user account.</h2>
                </div>
                <div class="flex flex-none items-center justify-center gap-2 rounded-sm px-2 sm:justify-end sm:bg-transparent sm:px-0">
                    <a id="helpButton" @click="showSection = !showSection" class="relative inline-flex items-center justify-center rounded-md border px-3 py-2 text-center text-sm font-medium shadow-sm transition-all duration-100 ease-in-out cursor-pointer outline outline-offset-2 outline-0 focus-visible:outline-2 outline-blue-500 dark:outline-blue-500 dark:border-gray-800 dark:text-gray-50 dark:bg-gray-950 dark:hover:bg-gray-900/60 disabled:text-gray-400 disabled:dark:text-gray-600 sm:w-fit border-black bg-black text-white hover:bg-gray-800 sm:mt-0">
                        Need Help?
                    </a>
                </div>
            </div>
        <!-- Initially Hidden, Show on Click -->
        <div :class="{ 'md:flex': showSection }" class="hidden mt-8 w-full md:max-w-3xl md:items-stretch md:space-x-4">

            <div class="relative rounded-lg border p-6 text-left shadow-sm bg-white dark:bg-[#090E1A] border-gray-200 dark:border-gray-900 w-full md:w-7/12">
                <div class="inline-flex items-center justify-center rounded-md border border-gray-200 p-2 dark:border-gray-800">
                    ðŸ“„
                </div>
                <h3 class="mt-4 text-sm font-medium text-gray-900 dark:text-gray-50">
                    <a href="https://openpanel.com/docs/admin/users/openpanel/#create-users" target="_blank" class="focus:outline-none">
                        <span class="absolute inset-0" aria-hidden="true"></span>Documentation
                    </a>
                </h3>
                <p class="text-sm text-gray-500 dark:text-gray-500">View documentation for User accounts</p>
            </div>

            <div class="hidden relative rounded-lg border p-6 text-left shadow-sm bg-white dark:bg-[#090E1A] border-gray-200 dark:border-gray-900 mt-4 w-full md:mt-0 md:w-5/12">
                <div class="inline-flex items-center justify-center rounded-md border border-gray-200 p-2 dark:border-gray-800">
                    ðŸ“¦
                </div>
                <h3 class="mt-4 text-sm font-medium text-gray-900 dark:text-gray-50">
                    <a href="#" class="focus:outline-none">
                        <span class="absolute inset-0" aria-hidden="true"></span>Models
                    </a>
                </h3>
                <p class="text-sm text-gray-500 dark:text-gray-500">Lorem ipsum dolor sit amet.</p>
            </div>
        </div>
    </header>
    </div>


<div id="collapseAddNewUser">
    <div id="create_user_form" class="sm:mx-auto sm:max-w-2xl" style="display:block;">
        <form id="userForm" class="mt-8">
            <div class="grid grid-cols-1 gap-4 sm:grid-cols-6">
                <div class="col-span-full sm:col-span-3">
                    <label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="admin_username">Username<span class="text-red-500 dark:text-red-500">*</span></label>
                    <div class="relative w-full mt-2">
                        <input
                            type="text"
                            class="relative block w-full appearance-none rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 file:-my-2 file:-ml-2.5 file:cursor-pointer file:rounded-l-[5px] file:rounded-r-none file:border-0 file:px-3 file:py-2 file:outline-none focus:outline-none disabled:pointer-events-none file:disabled:pointer-events-none file:border-solid file:border-gray-300 file:bg-gray-50 file:text-gray-500 file:hover:bg-gray-100 file:dark:border-gray-800 file:dark:bg-gray-950 file:hover:dark:bg-gray-900/20 file:disabled:dark:border-gray-700 file:[border-inline-end-width:1px] file:[margin-inline-end:0.75rem] file:disabled:bg-gray-100 file:disabled:text-gray-500 file:disabled:dark:bg-gray-800 focus:ring-2 focus:ring-blue-200 focus:dark:ring-blue-700/30 focus:border-blue-500 focus:dark:border-blue-700 [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden" min="3" max="20"  minlength="3" maxlength="20" name="admin_username" id="admin_username" pattern="[a-zA-Z0-9]{3,20}" title="Can only contain letters and numbers. 3 characters min. - 20 max." required="" autofocus placeholder="emma"
                        />
                    </div>
                </div>
                <div class="col-span-full sm:col-span-3">
                    <label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="admin_email">Email address</label>
                    <div class="relative w-full mt-2">
                        <input
                            type="email"
                            class="relative block w-full appearance-none rounded-md border px-2.5 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 file:-my-2 file:-ml-2.5 file:cursor-pointer file:rounded-l-[5px] file:rounded-r-none file:border-0 file:px-3 file:py-2 file:outline-none focus:outline-none disabled:pointer-events-none file:disabled:pointer-events-none file:border-solid file:border-gray-300 file:bg-gray-50 file:text-gray-500 file:hover:bg-gray-100 file:dark:border-gray-800 file:dark:bg-gray-950 file:hover:dark:bg-gray-900/20 file:disabled:dark:border-gray-700 file:[border-inline-end-width:1px] file:[margin-inline-end:0.75rem] file:disabled:bg-gray-100 file:disabled:text-gray-500 file:disabled:dark:bg-gray-800 focus:ring-2 focus:ring-blue-200 focus:dark:ring-blue-700/30 focus:border-blue-500 focus:dark:border-blue-700 [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden" name="admin_email" id="admin_email" autocomplete="email" placeholder="emma@company.com"/>
                            <span class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" title="Email login information to the user" data-bs-toggle="tooltip" data-bs-placement="top"><input class="m-0" name="send_email" type="checkbox">&nbsp; send email</span>
                    </div>
                </div>
                <div class="col-span-full">
                    <label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="admin_password">Password<span class="text-red-500 dark:text-red-500">*</span></label>
                    <div class="relative w-full flex mt-2">
                        <input class="relative block w-full appearance-none border px-2.5 py-2 shadow-sm outline-none rounded-l transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-950 disabled:border-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:dark:border-gray-700 disabled:dark:bg-gray-800 disabled:dark:text-gray-500 file:-my-2 file:-ml-2.5 file:cursor-pointer file:rounded-l-[5px] file:rounded-r-none file:border-0 file:px-3 file:py-2 file:outline-none focus:outline-none disabled:pointer-events-none file:disabled:pointer-events-none file:border-solid file:border-gray-300 file:bg-gray-50 file:text-gray-500 file:hover:bg-gray-100 file:dark:border-gray-800 file:dark:bg-gray-950 file:hover:dark:bg-gray-900/20 file:disabled:dark:border-gray-700 file:[border-inline-end-width:1px] file:[margin-inline-end:0.75rem] file:disabled:bg-gray-100 file:disabled:text-gray-500 file:disabled:dark:bg-gray-800 focus:ring-2 focus:ring-blue-200 focus:dark:ring-blue-700/30 focus:border-blue-500 focus:dark:border-blue-700 [&amp;::-webkit-search-cancel-button]:hidden [&amp;::-webkit-search-decoration]:hidden" autocomplete="password" name="admin_password" id="admin_password" required minlength="6" maxlength="30" pattern="[^']{6,30}" title="Can not contain apostrophe. 6 characters min. - 30 max."
                        />
                                                        <div class="flex">
                                                            <button class="relative inline-flex items-center justify-center border px-3 py-2 text-center text-sm font-medium shadow-sm transition-all duration-100 ease-in-out cursor-pointer outline outline-offset-2 outline-0 focus-visible:outline-2 outline-blue-500 dark:outline-blue-500 dark:border-gray-800 dark:text-gray-50 dark:bg-gray-950 dark:hover:bg-gray-900/60 disabled:text-gray-400 disabled:dark:text-gray-600 sm:w-fit border-black bg-black text-white hover:bg-gray-800 sm:mt-0" type="button" id="generatePassword" tabindex="-1">Generate</button>
                                                            <button class="relative inline-flex items-center justify-center rounded-r border px-3 py-2 text-center text-sm font-medium shadow-sm transition-all duration-100 ease-in-out cursor-pointer outline outline-offset-2 outline-0 focus-visible:outline-2 outline-blue-500 dark:outline-blue-500 dark:border-gray-800 dark:text-gray-50 dark:bg-gray-950 dark:hover:bg-gray-900/60 disabled:text-gray-400 disabled:dark:text-gray-600 sm:w-fit border-black bg-black text-white hover:bg-gray-800 sm:mt-0" tabindex="-1" type="button" id="togglePassword">
                                                                <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24" style="margin:0;"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-eye"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" /><path d="M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6" /></svg>
                                                            </button>
                                                        </div>

                    </div>
                </div>


                <div class="mx-auto my-6 flex w-full items-center justify-between gap-3 text-sm text-gray-500 dark:text-gray-500 col-span-full"><div class="h-[1px] w-full bg-gray-200 dark:bg-gray-800"></div></div>

                <div class="col-span-full sm:col-span-3">
                    <label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" tremor-id="tremor-raw" for="webserver">Webserver</label>
                    <div class="relative w-full mt-2">
                                <select class="group/trigger flex w-full select-none items-center justify-between gap-2 truncate rounded-md border px-3 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 data-[placeholder]:text-gray-500 data-[placeholder]:dark:text-gray-500 bg-white dark:bg-gray-950 hover:bg-gray-50 hover:dark:bg-gray-950/50 data-[disabled]:bg-gray-100 data-[disabled]:text-gray-400 data-[disabled]:dark:border-gray-700 data-[disabled]:dark:bg-gray-800 data-[disabled]:dark:text-gray-500 focus:ring-2 focus:ring-blue-200 focus:dark:ring-blue-700/30 focus:border-blue-500 focus:dark:border-blue-700 mt-2" name="webserver" id="webserver">
                                    <option disabled selected value> -- select web server -- </option>
                                    <option value="apache">Apache</option>
                                    <option value="nginx">Nginx</option>
                                    <option value="nginx">OpenResty</option>
                                    <option value="varnish+openresty">Varnish + OpenResty</option>
                                    <option value="varnish+nginx">Varnish + Nginx</option>
                                    <option value="varnish+apache">Varnish + Apache</option>
                                </select>
                    </div>
                </div>
                <div class="col-span-full sm:col-span-3">
                    <label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="size">MySQL type</label>
                                <select class="group/trigger flex w-full select-none items-center justify-between gap-2 truncate rounded-md border px-3 py-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 data-[placeholder]:text-gray-500 data-[placeholder]:dark:text-gray-500 bg-white dark:bg-gray-950 hover:bg-gray-50 hover:dark:bg-gray-950/50 data-[disabled]:bg-gray-100 data-[disabled]:text-gray-400 data-[disabled]:dark:border-gray-700 data-[disabled]:dark:bg-gray-800 data-[disabled]:dark:text-gray-500 focus:ring-2 focus:ring-blue-200 focus:dark:ring-blue-700/30 focus:border-blue-500 focus:dark:border-blue-700 mt-2" name="sql_type" id="sql_type">
                                    <option disabled selected value> -- select sql server -- </option>
                                    <option value="mysql">MySQL</option>
                                    <option value="mariadb">MariaDB</option>
                                </select>
                </div>

                <div class="mx-auto my-6 flex w-full items-center justify-between gap-3 text-sm text-gray-500 dark:text-gray-500 col-span-full"><div class="h-[1px] w-full bg-gray-200 dark:bg-gray-800"></div></div>

    <div class="col-span-full">
        <div role="radiogroup" aria-required="false" dir="ltr" class="grid gap-2" tremor-id="tremor-raw" tabindex="0" style="outline: none;">
            <p class="text-sm font-semibold text-gray-900 dark:text-gray-50">Select a package</p>
    <div x-data="{ selectedPlan: '{{ plans[0].name }}' }" class="mt-4 grid grid-cols-1 gap-4 sm:grid-cols-3">
        {% for plan in plans %}
        <button type="button" role="radio" 
            :aria-checked="selectedPlan === '{{ plan.name }}' ? 'true' : 'false'" 
            :data-state="selectedPlan === '{{ plan.name }}' ? 'checked' : ''" 
            value="{{ plan.name }}" 
            class="group relative w-full rounded-md border p-4 text-left shadow-sm transition focus:outline-none bg-white dark:bg-gray-950 border-gray-300 dark:border-gray-800 data-[state=checked]:border-blue-500 data-[state=checked]:dark:border-blue-500 data-[disabled]:border-gray-100 data-[disabled]:dark:border-gray-800 data-[disabled]:bg-gray-50 data-[disabled]:shadow-none data-[disabled]:dark:bg-gray-900 focus:ring-2 focus:ring-blue-200 focus:dark:ring-blue-700/30 focus:border-blue-500 focus:dark:border-blue-700 flex items-start justify-between" 
            :id="plan.id" tabindex="0"
            @click="selectedPlan = '{{ plan.name }}'">

            <div class="flex w-full flex-col justify-between">
                <div>
                    <label class="text-sm leading-none text-gray-900 dark:text-gray-50 font-medium" for="{{ plan.id }}" aria-describedby="{{ plan.id }}-description">
                        {{ plan.name }}
                    </label>
                    <p class="mt-1 text-sm text-gray-500 dark:text-gray-500">{{ plan.description }}</p>
                </div>

                <div class="mt-4" x-data="{ showDetails: false }">
                    <span @click="showDetails = !showDetails" class="text-sm font-medium text-gray-900 dark:text-gray-50">Display Limits</span>
                    <span :class="{ 'hidden': !showDetails }">
                        <p class="mt-6 text-xs text-gray-500 dark:text-gray-500">{{ plan.cpu }} Cores</p>
                        <p class="mt-1 text-xs text-gray-500 dark:text-gray-500"> {{ plan.ram }} Memory</p>
                        <p class="mt-1 text-xs text-gray-500 dark:text-gray-500"> {{ plan.disk_limit }} Storage</p>
                        <p class="mt-1 text-xs text-gray-500 dark:text-gray-500"> {{ plan.inodes_limit }} Inodes</p>
                        <p class="mt-1 text-xs text-gray-500 dark:text-gray-500"> {{ plan.bandwidth }} Mbps</p>
                        <p class="mt-1 text-xs text-gray-500 dark:text-gray-500"> {{ plan.domains_limit }} Domains</p>
                        <p class="mt-1 text-xs text-gray-500 dark:text-gray-500"> {{ plan.websites_limit }} Websites</p>
                        <p class="mt-1 text-xs text-gray-500 dark:text-gray-500"> {{ plan.email_limit }} Email accounts</p>
                        <p class="mt-1 text-xs text-gray-500 dark:text-gray-500"> {{ plan.ftp_limit }} FTP accounts</p>
                        <p class="mt-1 text-xs text-gray-500 dark:text-gray-500"> {{ plan.db_limit }} MySQL Databases</p>
                    </span>
                </div>
            </div>

            <div class="relative flex size-4 shrink-0 appearance-none items-center justify-center rounded-full border shadow-sm border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-950 group-data-[state=checked]:border-0 group-data-[state=checked]:border-transparent group-data-[state=checked]:bg-blue-500 group-data-[disabled]:border-gray-300 group-data-[disabled]:bg-gray-100 group-data-[disabled]:text-gray-400 group-data-[disabled]:dark:border-gray-700 group-data-[disabled]:dark:bg-gray-800 outline outline-offset-2 outline-0 focus-visible:outline-2 outline-blue-500 dark:outline-blue-500">
                <span x-show="selectedPlan === '{{ plan.name }}'" class="flex items-center justify-center">
                    <div class="size size-1.5 shrink-0 rounded-full bg-white group-data-[disabled]:bg-gray-400 group-data-[disabled]:dark:bg-gray-500"></div>
                </span>
            </div>
        </button>

        <input type="radio" value="{{ plan.name }}" aria-hidden="true" style="transform: translateX(-100%); position: absolute; pointer-events: none; opacity: 0; margin: 0px; width: 213.328px; height: 146px;" tabindex="-1" name="plan_name" value="{{ plan.name }}" :checked="selectedPlan === '{{ plan.name }}'" />
        {% endfor %}
    </div>

        </div>
    </div>




            </div>
            <div class="hidden mx-auto my-6 flex w-full items-center justify-between gap-3 text-sm text-gray-500 dark:text-gray-500" tremor-id="tremor-raw"><div class="h-[1px] w-full bg-gray-200 dark:bg-gray-800"></div></div>


                                            {% if license_type != "Community" %}
                                            <div class="hidden form-group row mt-2">
                                                <div class="alert alert-warning" role="alert">
                                                <strong>Warning:</strong> Clustering is an experimental feature and is not recommended for production use!  
                                                The slave server must be a remote machine with a fresh install of Ubuntu 24 and no OpenPanel installed.  
                                                Generate SSH keys and ensure you can establish an SSH connection from this server to the slave server.  
                                                Once configured, it can be used for new accounts.
                                                </div>


                                                <div class="col-md-6">
                                                    <label for="slave">Slave server:</label>
                                                    <input type="text" class="form-control" name="slave" id="slave" placeholder="IPv4 address">
                                                </div>

                                                <div class="col-md-6">
                                                    <label for="ssh_key_path">SSH private key:</label>
                                                    <input type="text" class="form-control" name="ssh_key_path" id="ssh_key_path" placeholder="/root/some-key.rsa">

                                                </div>


                                            </div>
                                            {% endif %}


            <div class="mx-auto my-6 flex w-full items-center justify-between gap-3 text-sm text-gray-500 dark:text-gray-500" tremor-id="tremor-raw"><div class="h-[1px] w-full bg-gray-200 dark:bg-gray-800"></div></div>



            <div class="flex items-center justify-end space-x-4">
                <a href="/users" class="relative inline-flex items-center justify-center whitespace-nowrap rounded-md border px-3 py-2 text-center text-sm font-medium shadow-sm transition-all duration-100 ease-in-out disabled:pointer-events-none disabled:shadow-none outline outline-offset-2 outline-0 focus-visible:outline-2 outline-blue-500 dark:outline-blue-500 border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 bg-white dark:bg-gray-950 hover:bg-gray-50 dark:hover:bg-gray-900/60 disabled:text-gray-400 disabled:dark:text-gray-600">Go back</a>

<div id="tooltip-community-limit-reached" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-xs opacity-0 tooltip dark:bg-gray-700">
    OpenPanel Community edition has a limit of 3 user accounts. Remove account or upgrade to Enterprise
    <div class="tooltip-arrow" data-popper-arrow></div>
</div>

<div id="tooltip-demo" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-xs opacity-0 tooltip dark:bg-gray-700">
    This action is disabled in demo mode.
    <div class="tooltip-arrow" data-popper-arrow></div>
</div>

                <button type="button" class="relative inline-flex items-center justify-center whitespace-nowrap rounded-md border px-3 py-2 text-center text-sm font-medium shadow-sm transition-all duration-100 ease-in-out disabled:pointer-events-none disabled:shadow-none outline outline-offset-2 outline-0 focus-visible:outline-2 outline-blue-500 dark:outline-blue-500 border-transparent text-white dark:text-white bg-blue-500 dark:bg-blue-500 hover:bg-blue-600 dark:hover:bg-blue-600 disabled:bg-blue-300 disabled:text-white disabled:dark:bg-blue-800 disabled:dark:text-blue-400" id="CreateUserButton" {% if users | length >= 3 and license_type == "Community" %}data-tooltip-target="tooltip-community-limit-reached"{% endif %}>Create User</button>
            </div>
        </form>
    </div>
</div>


<div id="scrollinglogAreaDiv" class="hidden mt-2 card shadow-lg CrawlerStatusCard" style="overflow-y: auto;">
    <div class="overflow-auto flex flex-col-reverse p-4">
        <div class="flex items-center p-4 rounded-lg bg-gray-50 dark:bg-gray-800">
            <span id="statusMessage"></span>
        </div>
    </div>
</div>


</div>




                                    <!-- Form for importing users -->
                                    <div class="hidden container">
                                        <div class="row">
                                            <div class="col-md-6 offset-md-3">
                                                <h2 class="mb-3">Import User from cPanel</h2>
                                                <p></p>
                                                <form id="userimportForm" method="POST" action="/import/cpanel">
                                                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

                                    <div class="form-group">
                                        <label for="admin_email">Backup file:</label>
    <input type="text" class="form-control" id="path" name="path" required placeholder="Select a backup file">
    <div id="backup-dropdown" class="dropdown-menu" style="display: none; position: absolute; z-index: 1000;">
        <!-- Backup options will appear here -->
    </div>
                                    </div>



<script>
    document.getElementById('path').addEventListener('click', function() {
        const dropdown = document.getElementById('backup-dropdown');
        dropdown.innerHTML = ''; // Clear previous entries

        // Fetch the backup files
        fetch('/json/cpanel-backups')
            .then(response => response.json())
            .then(data => {
                if (data.length > 0) {
                    dropdown.style.display = 'block'; // Show the dropdown
                    data.forEach(file => {
                        const option = document.createElement('div');
                        option.className = 'dropdown-item';
                        option.textContent = file;
                        option.onclick = () => {
                            document.getElementById('path').value = file; // Set selected file as input value
                            dropdown.style.display = 'none'; // Hide the dropdown
                        };
                        dropdown.appendChild(option);
                    });
                } else {
                    dropdown.style.display = 'none'; // Hide dropdown if no files found
                }
            })
            .catch(error => console.error('Error fetching backup files:', error));

        // Hide dropdown if clicked outside of it
        document.addEventListener('click', function(event) {
            if (!dropdown.contains(event.target) && event.target.id !== 'path') {
                dropdown.style.display = 'none';
            }
        });
    });
</script>

                                        <div class="form-group">
                                            <label for="plan_name">Plan:</label>
                                            <div class="input-group">
                                    <select class="form-select" size="3" name="plan_name" id="plan_name" aria-label="size 3 select plan_name" required>
                                        {% for plan in plans %}
                                            <option value="{{ plan.name }}" {% if loop.first %}selected{% endif %}>{{ plan.name }} - {{ plan.description }}</option>
                                        {% endfor %}
                                    </select>
                                            </div>
                                        </div>

                                    <br>
                                    <button type="submit" class="btn btn-primary" id="ImportUserButton" {% if users | length >= 3 and license_type == "Community" %}data-bs-toggle="tooltip" data-bs-placement="top" title="OpenPanel Community edition has a limit of 3 user accounts. Remove account or upgrade to Enterprise"{% endif %}>Import from Backup</button>
                                    </form>
                                            </div>
                                        </div>
                                    </div>


<script src="{{ url_for('static', filename='pages/users_add.js') }}?v=0.39" defer></script>

<style>
  
@keyframes rotate {
    to {
        --angle: 360deg
    }
}

@property --angle {
    syntax: "<angle>";
    initial-value: 0deg;
    inherits: false
}

.CrawlerStatusCard.active {
    animation: rotate 2s linear infinite;
    border: 2px solid transparent;
    border-image: conic-gradient(from var(--angle),transparent 0deg 90deg,transparent 90deg 180deg,transparent 180deg 270deg,#0077bc 270deg 1turn) 1 stretch;
}
  </style>
  
{% endblock %}
